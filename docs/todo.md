üìò CAHIER DE CHARGES TECHNIQUE ET FONCTIONNEL
Plateforme de R√©servation du Centre de Lecture ‚Äî Prot√©g√© QV ONG
Slogan : "La lecture, un pont vers la connaissance et la communaut√©."
Nom de l'application : Prot√©g√© Lecture+
Version du document : 2.0
Date : Octobre 2025

üèõÔ∏è 1. CONTEXTE ET PR√âSENTATION DU PROJET
1.1 Pr√©sentation de l'Organisation
Prot√©g√© QV ONG est une organisation non gouvernementale engag√©e pour la promotion de l'√©ducation, la culture et le d√©veloppement durable au Cameroun. Dans le cadre de sa mission √©ducative et culturelle, l'ONG lance une plateforme web moderne pour accompagner l'ouverture de son Centre de Lecture et Biblioth√®que Communautaire situ√© √† Yaound√©, au Rond-Point Express.
1.2 Vision du Projet
Le Centre de Lecture vise √† devenir un espace de r√©f√©rence pour la promotion de la lecture, l'√©change culturel et l'apprentissage communautaire. La plateforme digitale Prot√©g√© Lecture+ constitue le prolongement num√©rique de ce centre physique, facilitant l'acc√®s aux ressources documentaires et la gestion des activit√©s culturelles.
1.3 Fonctionnalit√©s Principales
La plateforme permettra aux visiteurs de :

Consulter le catalogue complet des livres disponibles au centre avec filtres avanc√©s
Effectuer des r√©servations de lecture pour venir consulter les ouvrages sur place
D√©couvrir les groupes de lecture et communaut√©s √©ducatives cr√©√©s et anim√©s par l'administrateur
Recevoir des notifications sur les √©v√©nements, ateliers, conf√©rences et activit√©s culturelles
S'informer sur les initiatives et actions culturelles de Prot√©g√© QV ONG
S'inscrire √† la newsletter pour recevoir les actualit√©s du centre
Contacter l'√©quipe via un formulaire d√©di√©

1.4 P√©rim√®tre du Projet
‚ö†Ô∏è Important ‚Äî Pr√©cisions sur le P√©rim√®tre :

Pas de biblioth√®que virtuelle : La plateforme ne propose pas de lecture en ligne ou de t√©l√©chargement de livres num√©riques.
Consultation sur place uniquement : Les livres sont consultables exclusivement au Centre de Lecture physique, apr√®s validation de la r√©servation.
R√©servation pr√©alable obligatoire : Les visiteurs doivent r√©server leur cr√©neau de lecture avant de se rendre au centre.
Acc√®s public limit√© : Seul l'administrateur dispose d'un compte authentifi√© sur la plateforme ; les visiteurs naviguent sans connexion.


üéØ 2. OBJECTIFS DU PROJET
2.1 Objectifs G√©n√©raux

Digitaliser le processus de r√©servation de livres et d'acc√®s √† la salle de lecture du centre.
Promouvoir la lecture, la culture et le savoir au sein de la communaut√© de Yaound√© et au-del√†.
Simplifier la gestion administrative des r√©servations, du catalogue et des √©v√©nements pour l'√©quipe de l'ONG.
Renforcer la visibilit√© et la notori√©t√© de Prot√©g√© QV ONG via une plateforme interactive, moderne et accessible.
Favoriser l'engagement communautaire √† travers les groupes de lecture et les √©v√©nements culturels.

2.2 Objectifs Sp√©cifiques

Cr√©er une interface utilisateur fluide, ergonomique et responsive adapt√©e aux ordinateurs, tablettes et smartphones.
G√©rer efficacement le catalogue documentaire : livres, auteurs, cat√©gories, disponibilit√©s et √©tats via un tableau de bord administrateur.
Permettre aux visiteurs de r√©server un livre pour une s√©ance de lecture physique avec confirmation automatis√©e.
Administrer des communaut√©s et groupes de lecture cr√©√©s et g√©r√©s uniquement par l'administrateur.
Centraliser les statistiques d'utilisation, les notifications et les journaux d'activit√© dans un tableau de bord d√©di√©.
Assurer une architecture l√©g√®re et performante avec stockage local (SQLite) et services cloud minimalistes (Firebase).
Optimiser la r√©utilisabilit√© du code via des composants React modulaires et bien structur√©s.
Offrir une exp√©rience multilingue (Fran√ßais/Anglais) pour toucher un public diversifi√©.


üë• 3. R√îLES ET PRIVIL√àGES UTILISATEURS
3.1 Architecture des R√¥les
L'application adopte une architecture simplifi√©e avec deux r√¥les principaux :
R√¥leDescriptionAcc√®s et ActionsVisiteur / Invit√©Utilisateur non authentifi√© qui acc√®de librement √† la plateforme- Consulter le catalogue de livres avec filtres<br>- Lire les d√©tails complets d'un livre<br>- Effectuer une r√©servation (formulaire public)<br>- Consulter les actualit√©s et √©v√©nements<br>- D√©couvrir les groupes de lecture<br>- S'inscrire √† la newsletter<br>- Envoyer un message via le formulaire de contact<br>- Consulter les informations sur l'ONG et le centreAdministrateurCompte authentifi√© avec acc√®s au tableau de bord complet- Toutes les actions du Visiteur<br>- G√©rer le catalogue (livres, auteurs, cat√©gories)<br>- Valider, modifier ou annuler les r√©servations<br>- Cr√©er et g√©rer les groupes de lecture<br>- Publier des √©v√©nements et actualit√©s<br>- G√©rer les contacts et abonn√©s newsletter<br>- Cr√©er d'autres comptes administrateurs<br>- D√©finir les privil√®ges des sous-admins<br>- Consulter les statistiques et rapports<br>- Exporter les donn√©es (CSV, PDF)<br>- Configurer les param√®tres du syst√®me
3.2 Syst√®me de Privil√®ges Administrateurs
3.2.1 Administrateur Principal (Super Admin)
Un compte administrateur principal est cr√©√© par d√©faut lors de l'installation via une commande d'initialisation :
bashnpm run init:admin
Ce compte dispose de tous les privil√®ges et ne peut √™tre supprim√©. Il est le seul √† pouvoir :

Cr√©er d'autres comptes administrateurs
Modifier ou supprimer des comptes administrateurs
D√©finir les privil√®ges des sous-admins
Acc√©der aux param√®tres syst√®me critiques

Informations par d√©faut :

Email : admin@protegeqv.org
Mot de passe : AdminProtege2025! (√† modifier imm√©diatement apr√®s premi√®re connexion)
R√¥le : super_admin

3.2.2 Sous-Administrateurs (Admins D√©l√©gu√©s)
Les sous-administrateurs sont cr√©√©s par le Super Admin avec des privil√®ges personnalis√©s. Le syst√®me propose des profils de privil√®ges pr√©d√©finis :
A) Administrateur Complet

Tous les privil√®ges sauf cr√©ation/suppression d'admins

B) Gestionnaire de Contenu

Gestion des livres, auteurs, cat√©gories
Publication d'√©v√©nements et actualit√©s
Gestion de la newsletter

C) Gestionnaire de R√©servations

Validation et gestion des r√©servations
Consultation du calendrier
Contact avec les visiteurs

D) Animateur de Communaut√©

Gestion des groupes de lecture
Publication d'√©v√©nements
Mod√©ration des messages

E) Privil√®ges Personnalis√©s
Le Super Admin peut cr√©er un profil sur-mesure en s√©lectionnant individuellement :
ModulePrivil√®ges DisponiblesCatalogue- Consulter les livres<br>- Ajouter des livres<br>- Modifier des livres<br>- Supprimer des livres<br>- G√©rer les cat√©gories<br>- G√©rer les auteursR√©servations- Consulter les r√©servations<br>- Valider les r√©servations<br>- Modifier les r√©servations<br>- Annuler les r√©servations<br>- Exporter les donn√©esGroupes de Lecture- Consulter les groupes<br>- Cr√©er des groupes<br>- Modifier des groupes<br>- Supprimer des groupes<br>- G√©rer les membres√âv√©nements- Consulter les √©v√©nements<br>- Cr√©er des √©v√©nements<br>- Modifier des √©v√©nements<br>- Supprimer des √©v√©nements<br>- Publier/D√©publierCommunication- Consulter les messages<br>- R√©pondre aux messages<br>- Supprimer des messages<br>- G√©rer la newsletter<br>- Envoyer des notificationsAdministration- Consulter les statistiques<br>- Exporter les donn√©es<br>- G√©rer les param√®tres<br>- Consulter les logs<br>- G√©rer les administrateurs
3.3 Mod√®le de Donn√©es Utilisateurs
La table administrateurs dans SQLite stocke les informations suivantes :
sqlCREATE TABLE administrateurs (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  firebase_uid TEXT UNIQUE NOT NULL,
  email TEXT UNIQUE NOT NULL,
  nom_complet TEXT NOT NULL,
  role TEXT NOT NULL DEFAULT 'admin',
  privileges TEXT, -- JSON des privil√®ges d√©taill√©s
  photo_profil TEXT,
  telephone TEXT,
  date_creation DATETIME DEFAULT CURRENT_TIMESTAMP,
  date_derniere_connexion DATETIME,
  statut TEXT DEFAULT 'actif',
  cree_par INTEGER REFERENCES administrateurs(id),
  CONSTRAINT check_role CHECK (role IN ('super_admin', 'admin'))
);

üìö 4. MODULES FONCTIONNELS D√âTAILL√âS
4.1 Module d'Authentification
4.1.1 Fonctionnalit√©s
Pour les Administrateurs :

Connexion via Firebase Authentication

Email + Mot de passe
Google OAuth (optionnel)


R√©initialisation du mot de passe par email
V√©rification de l'adresse email lors de la cr√©ation de compte
Gestion de session s√©curis√©e avec tokens JWT
D√©connexion automatique apr√®s inactivit√© (configurable)
Protection contre les attaques par force brute (rate limiting)

4.1.2 Workflow d'Authentification

Page de Connexion

Formulaire email/mot de passe
Lien "Mot de passe oubli√©"
Option Google OAuth (facultatif)
Redirection vers le tableau de bord apr√®s connexion r√©ussie


Cr√©ation de Sous-Admin (par Super Admin)

Formulaire avec : nom, email, r√¥le, privil√®ges
Email d'invitation envoy√© automatiquement
Le sous-admin d√©finit son mot de passe via un lien temporaire


S√©curit√©

Validation c√¥t√© client et serveur
Tokens Firebase stock√©s de mani√®re s√©curis√©e
Middleware de v√©rification du r√¥le sur toutes les routes prot√©g√©es
Logs de toutes les connexions et actions administratives



4.1.3 Composants R√©utilisables

<AuthProvider> : Context pour la gestion de l'√©tat d'authentification
<PrivateRoute> : Protection des routes administrateur
<LoginForm> : Formulaire de connexion r√©utilisable
<PasswordReset> : Composant de r√©initialisation
<RoleGuard> : V√©rification des privil√®ges par module


4.2 Module "Livres et Catalogue"
4.2.1 Structure des Donn√©es ‚Äî Livres
Chaque livre contient les informations suivantes :
ChampTypeDescriptionObligatoireidINTEGERIdentifiant unique auto-incr√©ment√©OuiisbnTEXTNum√©ro ISBN internationalNontitreTEXTTitre complet du livreOuiauteur_idINTEGERR√©f√©rence vers la table auteursOuiresumeTEXTR√©sum√© ou description du livre (1000 caract√®res max)Ouicategorie_idINTEGERR√©f√©rence vers la table categoriesOuiannee_publicationINTEGERAnn√©e de publication (format : YYYY)OuiediteurTEXTNom de la maison d'√©ditionNonlangueTEXTLangue principale (FR, EN, etc.)Ouinombre_pagesINTEGERNombre total de pagesNonnombre_exemplairesINTEGERNombre total d'exemplaires poss√©d√©sOuiexemplaires_disponiblesINTEGERNombre d'exemplaires actuellement disponiblesOuistatutTEXTStatut global : disponible, reserv√©_complet, maintenanceOuiimage_couvertureTEXTNom du fichier image stock√© localementNontagsTEXTTags th√©matiques s√©par√©s par virgulesNoncoteTEXTCote biblioth√©caire (ex: "ROM.FIC.001")Nondate_ajoutDATETIMEDate d'ajout dans le syst√®meOuidate_modificationDATETIMEDate de derni√®re modificationOuiajoute_parINTEGERID de l'admin qui a ajout√© le livreOui
4.2.2 Tables Associ√©es
Table auteurs :
sqlCREATE TABLE auteurs (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  nom_complet TEXT NOT NULL,
  biographie TEXT,
  nationalite TEXT,
  photo TEXT,
  date_naissance DATE,
  site_web TEXT,
  nombre_livres INTEGER DEFAULT 0,
  date_ajout DATETIME DEFAULT CURRENT_TIMESTAMP
);
Table categories :
sqlCREATE TABLE categories (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  nom TEXT UNIQUE NOT NULL,
  description TEXT,
  couleur_hex TEXT DEFAULT '#A5D6A7',
  icone TEXT,
  parent_id INTEGER REFERENCES categories(id),
  nombre_livres INTEGER DEFAULT 0,
  ordre_affichage INTEGER DEFAULT 0
);
4.2.3 Fonctionnalit√©s du Module
A) Pour les Visiteurs :

Consultation du Catalogue

Liste des livres avec affichage en grille ou liste
Pagination (20 livres par page)
Aper√ßu : couverture, titre, auteur, cat√©gorie, disponibilit√©


Filtres Avanc√©s

Par cat√©gorie (avec affichage hi√©rarchique)
Par auteur (recherche autocomplete)
Par disponibilit√© (disponible uniquement / tous)
Par langue
Par ann√©e de publication (plage de dates)
Par tags


Recherche Intelligente

Barre de recherche globale
Recherche dans : titre, auteur, ISBN, tags, r√©sum√©
Suggestions automatiques (debounced)
Historique des recherches r√©centes


Fiche D√©taill√©e du Livre

Toutes les informations du livre
Image de couverture en haute r√©solution
Biographie de l'auteur (lien cliquable)
Livres similaires (m√™me cat√©gorie/auteur)
Bouton "R√©server ce livre" (si disponible)
√âtat de disponibilit√© en temps r√©el


Syst√®me de R√©servation (Visiteur)

Formulaire de r√©servation avec :

Nom complet
Email
T√©l√©phone
Date souhait√©e de lecture (calendrier)
Cr√©neau horaire (matin 9h-13h / apr√®s-midi 14h-18h)
Commentaire optionnel


Validation des champs c√¥t√© client
Notification automatique par email apr√®s soumission
Num√©ro de r√©servation fourni pour suivi



B) Pour les Administrateurs :

Gestion du Catalogue

Ajouter un nouveau livre (formulaire d√©taill√©)
Modifier les informations d'un livre
Supprimer un livre (avec confirmation)
Gestion des images de couverture (upload local)
Import en masse via CSV (avec mapping des colonnes)
Dupliquer une fiche livre (cr√©ation rapide)


Gestion des Auteurs

Cr√©er un auteur
Modifier les informations biographiques
Lier plusieurs livres √† un auteur
Supprimer un auteur (si aucun livre li√©)


Gestion des Cat√©gories

Cr√©er une cat√©gorie ou sous-cat√©gorie
D√©finir une couleur et une ic√¥ne pour chaque cat√©gorie
Organiser l'ordre d'affichage
Fusionner ou supprimer des cat√©gories


Gestion de la Disponibilit√©

Marquer des exemplaires en maintenance
Ajuster le nombre d'exemplaires disponibles
Historique des mouvements (entr√©es/sorties)



4.2.4 Composants R√©utilisables

<BookCard> : Carte d'aper√ßu d'un livre
<BookGrid> : Grille de livres avec pagination
<BookFilters> : Panneau de filtres avanc√©s
<SearchBar> : Barre de recherche intelligente
<BookForm> : Formulaire d'ajout/modification de livre
<AuthorSelect> : S√©lecteur d'auteur avec autocomplete
<CategoryTree> : Arborescence de cat√©gories
<AvailabilityBadge> : Badge de disponibilit√©
<ReservationForm> : Formulaire de r√©servation visiteur


4.3 Module "R√©servations"
4.3.1 Structure des Donn√©es
Table reservations :
sqlCREATE TABLE reservations (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  numero_reservation TEXT UNIQUE NOT NULL,
  livre_id INTEGER NOT NULL REFERENCES livres(id),
  nom_visiteur TEXT NOT NULL,
  email_visiteur TEXT NOT NULL,
  telephone_visiteur TEXT NOT NULL,
  date_souhaitee DATE NOT NULL,
  creneau TEXT NOT NULL,
  commentaire TEXT,
  statut TEXT DEFAULT 'en_attente',
  date_creation DATETIME DEFAULT CURRENT_TIMESTAMP,
  date_validation DATETIME,
  date_visite DATETIME,
  valide_par INTEGER REFERENCES administrateurs(id),
  remarque_admin TEXT,
  notification_envoyee BOOLEAN DEFAULT 0,
  CONSTRAINT check_statut CHECK (statut IN ('en_attente', 'validee', 'refusee', 'terminee', 'annulee')),
  CONSTRAINT check_creneau CHECK (creneau IN ('matin', 'apres_midi'))
);
4.3.2 Workflow de R√©servation
√âtape 1 : Soumission par le Visiteur

Le visiteur remplit le formulaire sur la fiche d'un livre disponible
Validation des champs (email valide, t√©l√©phone, date future)
V√©rification de la disponibilit√© du livre √† la date choisie
G√©n√©ration d'un num√©ro de r√©servation unique (format : RES-YYYYMMDD-XXXX)
Enregistrement dans SQLite avec statut en_attente
Email de confirmation automatique envoy√© au visiteur
Notification Firebase envoy√©e aux administrateurs

√âtape 2 : Validation par l'Administrateur

L'admin re√ßoit une notification dans le tableau de bord
Consultation des d√©tails de la r√©servation
Actions possibles :

Valider : Email de confirmation envoy√© au visiteur + SMS optionnel
Refuser : Demande de motif + email explicatif au visiteur
Modifier : Changement de date/cr√©neau (avec accord du visiteur)



√âtape 3 : Visite au Centre

Le visiteur se pr√©sente au centre avec son num√©ro de r√©servation
L'admin marque la r√©servation comme terminee et enregistre la date de visite
Le livre est marqu√© comme consult√© dans l'historique

√âtape 4 : Suivi Post-Visite

Email de remerciement automatique (optionnel)
Invitation √† rejoindre un groupe de lecture
Invitation √† s'abonner √† la newsletter

4.3.3 Fonctionnalit√©s Administrateur

Tableau de Bord des R√©servations

Liste de toutes les r√©servations avec filtres :

Par statut (en attente, valid√©es, refus√©es, termin√©es)
Par date de r√©servation
Par date de visite souhait√©e
Par livre


Statistiques en temps r√©el :

R√©servations en attente
R√©servations du jour
Taux de validation
Taux de pr√©sence




Calendrier des R√©servations

Vue calendrier avec les r√©servations valid√©es
Code couleur par cr√©neau (matin/apr√®s-midi)
D√©tection des conflits de disponibilit√©
Export au format iCalendar (.ics)


Gestion Individuelle

D√©tails complets d'une r√©servation
Historique des actions (validation, modification, annulation)
Contact direct avec le visiteur (email/t√©l√©phone)
Ajout de remarques internes


Actions en Masse

Validation multiple de r√©servations
Export CSV des r√©servations (par p√©riode, par statut)
Rappels automatiques par email (J-1 avant la visite)



4.3.4 Notifications
Firebase Cloud Messaging (FCM) :

Notification push aux admins lors d'une nouvelle r√©servation
Notification au visiteur lors de la validation (si PWA install√©e)
Rappel automatique J-1

Emails Automatiques :

Confirmation de r√©servation (visiteur)
Validation de r√©servation (visiteur)
Refus de r√©servation avec motif (visiteur)
Notification de nouvelle r√©servation (admins)
Rappel J-1 (visiteur)
Remerciement post-visite (visiteur)

4.3.5 Composants R√©utilisables

<ReservationList> : Liste des r√©servations avec filtres
<ReservationCard> : Carte r√©sum√©e d'une r√©servation
<ReservationCalendar> : Calendrier des r√©servations
<ReservationDetails> : D√©tails complets d'une r√©servation
<ReservationActions> : Boutons d'action (valider/refuser/modifier)
<ReservationStats> : Statistiques en temps r√©el
<StatusBadge> : Badge de statut color√©


4.4 Module "Groupes de Lecture & Communaut√©s"
4.4.1 Concept
Les groupes de lecture sont des communaut√©s th√©matiques cr√©√©es et anim√©es exclusivement par les administrateurs. Ils permettent de f√©d√©rer les visiteurs autour de th√®mes litt√©raires, d'organiser des rencontres et de promouvoir des lectures communes.
4.4.2 Structure des Donn√©es
Table groupes_lecture :
sqlCREATE TABLE groupes_lecture (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  nom TEXT NOT NULL,
  description TEXT NOT NULL,
  theme TEXT NOT NULL,
  image_couverture TEXT,
  statut TEXT DEFAULT 'actif',
  date_creation DATETIME DEFAULT CURRENT_TIMESTAMP,
  cree_par INTEGER NOT NULL REFERENCES administrateurs(id),
  nombre_membres INTEGER DEFAULT 0,
  prochaine_rencontre DATETIME,
  lieu_rencontre TEXT,
  livre_du_mois INTEGER REFERENCES livres(id),
  CONSTRAINT check_statut CHECK (statut IN ('actif', 'inactif', 'archive'))
);
Table membres_groupes :
sqlCREATE TABLE membres_groupes (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  groupe_id INTEGER NOT NULL REFERENCES groupes_lecture(id),
  nom_complet TEXT NOT NULL,
  email TEXT NOT NULL,
  telephone TEXT,
  date_inscription DATETIME DEFAULT CURRENT_TIMESTAMP,
  statut TEXT DEFAULT 'actif',
  CONSTRAINT check_statut CHECK (statut IN ('actif', 'inactif'))
);
Table activites_groupes :
sqlCREATE TABLE activites_groupes (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  groupe_id INTEGER NOT NULL REFERENCES groupes_lecture(id),
  titre TEXT NOT NULL,
  description TEXT,
  type TEXT NOT NULL,
  date_activite DATETIME NOT NULL,
  lieu TEXT,
  livre_associe INTEGER REFERENCES livres(id),
  cree_par INTEGER NOT NULL REFERENCES administrateurs(id),
  date_creation DATETIME DEFAULT CURRENT_TIMESTAMP,
  CONSTRAINT check_type CHECK (type IN ('rencontre', 'debat', 'conference', 'atelier', 'autre'))
);
4.4.3 Fonctionnalit√©s
A) Pour les Visiteurs :

D√©couverte des Groupes

Liste de tous les groupes actifs
Filtres par th√®me
Fiche d√©taill√©e de chaque groupe :

Description et objectifs
Th√®me principal
Nombre de membres
Prochaine rencontre
Livre du mois
Historique des activit√©s




Inscription √† un Groupe

Formulaire d'inscription :

Nom complet
Email
T√©l√©phone
Motivation (optionnel)


Confirmation par email
L'admin valide l'inscription dans le tableau de bord



B) Pour les Administrateurs :

Cr√©ation de Groupes

Formulaire avec : nom, description, th√®me, image
D√©finition du livre du mois
Planification de la prochaine rencontre


Gestion des Membres

Liste de tous les membres par groupe
Validation des inscriptions
Suppression de membres
Export de la liste (CSV)
Envoi d'emails group√©s


Planification d'Activit√©s

Cr√©ation d'√©v√©nements li√©s au groupe :

Rencontres de lecture
D√©bats th√©matiques
Conf√©rences avec auteurs
Ateliers d'√©criture


Envoi de notifications aux membres
Gestion du calendrier d'activit√©s


Communication

Envoi d'emails aux membres du groupe
Notifications push (si PWA install√©e)
Partage de ressources (liens, documents)



4.4.4 Composants R√©utilisables

<GroupCard> : Carte d'aper√ßu d'un groupe
<GroupGrid> : Grille de groupes
<GroupDetails> : D√©tails complets d'un groupe
<GroupForm> : Formulaire de cr√©ation/modification
<MemberList> : Liste des membres d'un groupe
<ActivityCalendar> : Calendrier des activit√©s du groupe
<JoinGroupForm> : Formulaire d'inscription visiteur


4.5 Module "√âv√©nements & Actualit√©s"
4.5.1 Structure des Donn√©es
Table evenements :
sqlCREATE TABLE evenements (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  titre TEXT NOT NULL,
  description TEXT NOT NULL,
  type TEXT NOT NULL,
  date_debut DATETIME NOT NULL,
  date_fin DATETIME,
  lieu TEXT,
  image_principale TEXT,
  lien_externe TEXT,
  groupe_lie INTEGER REFERENCES groupes_lecture(id),
  livre_lie INTEGER REFERENCES livres(id),
  statut TEXT DEFAULT 'brouillon',
  publie_le DATETIME,
  cree_par INTEGER NOT NULL REFERENCES administrateurs(id),
  date_creation DATETIME DEFAULT CURRENT_TIMESTAMP,
  nombre_vues INTEGER DEFAULT 0,
  CONSTRAINT check_type CHECK (type IN ('atelier', 'conference', 'club_lecture', 'exposition', 'formation', 'autre')),
  CONSTRAINT check_statut CHECK (statut IN ('brouillon', 'publie', 'archive'))
);
Table actualites :
sqlCREATE TABLE actualites (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  titre TEXT NOT NULL,
  contenu TEXT NOT NULL,
  resume TEXT,
  image_principale TEXT,
  categorie TEXT,
  tags TEXT,
  statut TEXT DEFAULT 'brouillon',
  publie_le DATETIME,
  cree_par INTEGER NOT NULL REFERENCES administrateurs(id),
  date_creation DATETIME DEFAULT CURRENT_TIMESTAMP,
  date_modification DATETIME,
  nombre_vues INTEGER DEFAULT 0,
  CONSTRAINT check_statut CHECK (statut IN ('brouillon', 'publie', 'archive'))
);
4.5.2 Fonctionnalit√©s
A) Pour les Visiteurs :

Page √âv√©nements

Liste des √©v√©nements √† venir (tri par date)
Filtres par type d'√©v√©nement
Fiche d√©taill√©e de chaque √©v√©nement
Bouton "S'inscrire" (redirection vers formulaire)
Export au format iCalendar (.ics)
Partage sur r√©seaux sociaux


Page Actualit√©s

Liste des actualit√©s r√©centes
Filtres par cat√©gorie
Recherche par mots-cl√©s
Affichage en grille ou liste
Lecture compl√®te d'une actualit√©
Articles sugg√©r√©s (m√™me cat√©gorie)


Carrousel Page d'Accueil

Slider des 5 derniers √©v√©nements/actualit√©s
Animation automatique (8 secondes)
Navigation manuelle
Liens directs vers les fiches d√©taill√©es



B) Pour les Administrateurs :

Cr√©ation d'√âv√©nements

Formulaire d√©taill√© avec √©


RetryMYContinuediteur WYSIWYG

Upload d'image principale (stockage local)
Liaison optionnelle √† un groupe ou un livre
Gestion du statut (brouillon/publi√©/archiv√©)
Pr√©visualisation avant publication
Planification de publication (date/heure)


Cr√©ation d'Actualit√©s

√âditeur de texte riche (formatting, listes, liens)
Upload d'images dans le contenu
D√©finition d'un r√©sum√© pour l'aper√ßu
Cat√©gorisation et tags
SEO : titre, meta-description
Brouillon automatique toutes les 30 secondes


Gestion du Contenu

Liste de tous les √©v√©nements/actualit√©s
Filtres par statut, date, auteur
Actions en masse (publier, archiver, supprimer)
Statistiques de vues
Duplication de contenu existant


Carrousel d'Accueil

S√©lection des contenus mis en avant
Ordre d'affichage personnalisable
Activation/d√©sactivation du d√©filement automatique



4.5.3 Composants R√©utilisables

<EventCard> : Carte d'√©v√©nement
<EventGrid> : Grille d'√©v√©nements
<EventForm> : Formulaire de cr√©ation/modification d'√©v√©nement
<NewsCard> : Carte d'actualit√©
<NewsGrid> : Grille d'actualit√©s
<NewsForm> : Formulaire de cr√©ation/modification d'actualit√©
<RichTextEditor> : √âditeur WYSIWYG r√©utilisable
<HomeCarousel> : Carrousel page d'accueil
<ImageUploader> : Composant d'upload d'images


4.6 Module "Contact & Newsletter"
4.6.1 Structure des Donn√©es
Table messages_contact :
sqlCREATE TABLE messages_contact (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  nom_complet TEXT NOT NULL,
  email TEXT NOT NULL,
  telephone TEXT,
  sujet TEXT NOT NULL,
  message TEXT NOT NULL,
  date_envoi DATETIME DEFAULT CURRENT_TIMESTAMP,
  statut TEXT DEFAULT 'non_lu',
  lu_par INTEGER REFERENCES administrateurs(id),
  date_lecture DATETIME,
  reponse TEXT,
  date_reponse DATETIME,
  repondu_par INTEGER REFERENCES administrateurs(id),
  CONSTRAINT check_statut CHECK (statut IN ('non_lu', 'lu', 'repondu', 'archive'))
);
Table newsletter_abonnes :
sqlCREATE TABLE newsletter_abonnes (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  email TEXT UNIQUE NOT NULL,
  nom_complet TEXT,
  date_inscription DATETIME DEFAULT CURRENT_TIMESTAMP,
  statut TEXT DEFAULT 'actif',
  token_desinscription TEXT UNIQUE NOT NULL,
  source TEXT DEFAULT 'site_web',
  CONSTRAINT check_statut CHECK (statut IN ('actif', 'desabonne', 'bounce'))
);
Table newsletter_envois :
sqlCREATE TABLE newsletter_envois (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  objet TEXT NOT NULL,
  contenu TEXT NOT NULL,
  date_envoi DATETIME DEFAULT CURRENT_TIMESTAMP,
  envoye_par INTEGER NOT NULL REFERENCES administrateurs(id),
  nombre_destinataires INTEGER,
  nombre_ouverts INTEGER DEFAULT 0,
  nombre_clics INTEGER DEFAULT 0,
  statut TEXT DEFAULT 'brouillon',
  CONSTRAINT check_statut CHECK (statut IN ('brouillon', 'envoye', 'annule'))
);
4.6.2 Fonctionnalit√©s
A) Formulaire de Contact (Visiteurs)

Page Contact

Formulaire avec champs :

Nom complet (obligatoire)
Email (obligatoire)
T√©l√©phone (optionnel)
Sujet (liste d√©roulante + champ libre)
Message (minimum 20 caract√®res)


Validation en temps r√©el
Captcha anti-spam (simple calcul math√©matique)
Confirmation visuelle apr√®s envoi
Email de confirmation automatique au visiteur


Sujets Pr√©d√©finis

Informations g√©n√©rales
R√©servation de livre
Inscription √† un groupe
Partenariat
Don de livres
Autre



B) Gestion des Messages (Administrateurs)

Bo√Æte de R√©ception

Liste de tous les messages
Badge de messages non lus
Filtres par statut, sujet, date
Recherche par nom/email/mots-cl√©s
Tri par date, statut, priorit√©


D√©tails du Message

Affichage complet du message
Informations sur l'exp√©diteur (avec historique)
Bouton "Marquer comme lu"
R√©ponse directe par email (template pr√©rempli)
Ajout de notes internes
Archivage


Statistiques

Nombre total de messages re√ßus
Taux de r√©ponse
Temps moyen de r√©ponse
Sujets les plus fr√©quents



C) Newsletter (Visiteurs)

Inscription

Formulaire simplifi√© (email + nom optionnel)
Cases √† cocher pour consentement RGPD
Confirmation par email (double opt-in)
Page de confirmation avec message de bienvenue


D√©sinscription

Lien unique dans chaque email
Page de d√©sinscription avec formulaire optionnel (motif)
Confirmation imm√©diate



D) Gestion Newsletter (Administrateurs)

Liste des Abonn√©s

Tableau complet avec pagination
Filtres par statut, date d'inscription, source
Export CSV/Excel
Import en masse (CSV avec validation)
Statistiques : total actifs, d√©sabonn√©s, taux de croissance


Cr√©ation de Campagne

√âditeur d'email avec templates pr√©d√©finis :

Nouveaut√©s du mois
√âv√©nements √† venir
Actualit√©s de l'ONG
Spotlight sur un livre


Personnalisation (nom du destinataire, etc.)
Pr√©visualisation multi-appareils (desktop/mobile)
Test d'envoi avant diffusion
Planification d'envoi


Historique des Envois

Liste de toutes les campagnes
Statistiques par campagne :

Taux d'ouverture
Taux de clics
D√©sinscriptions


R√©-envoi aux non-ouvreurs



4.6.3 Composants R√©utilisables

<ContactForm> : Formulaire de contact visiteur
<MessageList> : Liste des messages re√ßus
<MessageCard> : Carte de message
<MessageDetails> : D√©tails complets d'un message
<NewsletterSignup> : Widget d'inscription newsletter
<SubscriberList> : Liste des abonn√©s
<EmailEditor> : √âditeur d'email avec templates
<CampaignStats> : Statistiques d'une campagne
<SimpleCaptcha> : Captcha math√©matique simple


4.7 Module "Statistiques & Tableau de Bord Admin"
4.7.1 Structure des Donn√©es
Table statistiques_journalieres :
sqlCREATE TABLE statistiques_journalieres (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  date DATE UNIQUE NOT NULL,
  visites_totales INTEGER DEFAULT 0,
  visiteurs_uniques INTEGER DEFAULT 0,
  reservations_soumises INTEGER DEFAULT 0,
  reservations_validees INTEGER DEFAULT 0,
  livres_consultes INTEGER DEFAULT 0,
  nouvelles_inscriptions_newsletter INTEGER DEFAULT 0,
  nouveaux_membres_groupes INTEGER DEFAULT 0,
  messages_recus INTEGER DEFAULT 0,
  date_calcul DATETIME DEFAULT CURRENT_TIMESTAMP
);
Table logs_activite :
sqlCREATE TABLE logs_activite (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  utilisateur_id INTEGER REFERENCES administrateurs(id),
  action TEXT NOT NULL,
  module TEXT NOT NULL,
  details TEXT,
  ip_address TEXT,
  date_action DATETIME DEFAULT CURRENT_TIMESTAMP,
  CONSTRAINT check_module CHECK (module IN ('livres', 'reservations', 'groupes', 'evenements', 'actualites', 'contact', 'newsletter', 'administration'))
);
4.7.2 Tableau de Bord Principal
Vue d'Ensemble (Dashboard)
Widgets Statistiques Principaux :

M√©triques Cl√©s (Cards)

üìö Nombre total de livres (avec √©volution)
üìñ Livres disponibles actuellement
üìÖ R√©servations en attente
‚úÖ R√©servations valid√©es ce mois
üë• Nombre de membres dans les groupes
üìß Messages non lus
üì∞ Abonn√©s newsletter actifs


Graphiques d'Activit√©

√âvolution des r√©servations (7/30/90 derniers jours)

Graphique en ligne avec filtres temporels
Comparaison avec la p√©riode pr√©c√©dente


R√©partition des livres par cat√©gorie

Graphique en donut interactif
Pourcentages et nombres absolus


Taux de disponibilit√©

Jauge de disponibilit√© globale
Alertes si < 30% disponible


Activit√© des groupes de lecture

Nombre de membres par groupe (bar chart)
√âvolution des inscriptions




R√©servations du Jour

Liste des r√©servations valid√©es pour aujourd'hui
Cr√©neau, nom du visiteur, livre r√©serv√©
Actions rapides (marquer comme termin√©, contacter)


Alertes et Notifications

Nouvelles r√©servations √† traiter (badge rouge)
Livres en stock faible (< 2 exemplaires)
Messages non lus (> 5 jours)
√âv√©nements √† venir (J-7)


Activit√© R√©cente

Flux en temps r√©el des derni√®res actions :

Nouvelle r√©servation
Livre ajout√©
Message re√ßu
Nouvel abonn√© newsletter


Horodatage et d√©tails
Lien direct vers l'√©l√©ment concern√©



4.7.3 Rapports et Exports
Rapports Pr√©d√©finis :

Rapport Mensuel de R√©servations

Nombre total de r√©servations
Taux de validation/refus
Livres les plus r√©serv√©s
Cr√©neaux les plus demand√©s
Taux de pr√©sence (termin√©es vs valid√©es)
Export PDF/CSV


Rapport d'Activit√© de la Biblioth√®que

Statistiques du catalogue (nouveaux livres, cat√©gories populaires)
Taux de rotation des livres
Livres jamais r√©serv√©s
Auteurs les plus consult√©s
Export PDF/Excel


Rapport des Groupes de Lecture

Nombre de membres par groupe
Taux de participation aux activit√©s
Groupes les plus actifs
√âvolution des inscriptions
Export PDF/CSV


Rapport Newsletter

Croissance des abonn√©s (mensuelle/annuelle)
Taux d'ouverture moyen
Taux de clics moyen
Campagnes les plus performantes
Export CSV



Exports Personnalis√©s :

S√©lection de la p√©riode (date de d√©but/fin)
Choix des modules √† inclure
Format d'export (CSV, Excel, PDF)
Planification d'exports automatiques (hebdomadaire/mensuel)

4.7.4 Journaux d'Activit√© (Logs)
Consultation des Logs :

Liste compl√®te de toutes les actions administratives
Filtres par :

Administrateur
Module
Type d'action (cr√©ation, modification, suppression)
P√©riode


Recherche par mots-cl√©s dans les d√©tails
Export CSV pour audit

Actions Enregistr√©es :

Connexion/d√©connexion
Ajout/modification/suppression de livre
Validation/refus de r√©servation
Cr√©ation/modification de groupe
Publication d'√©v√©nement/actualit√©
Envoi de newsletter
Modification des param√®tres syst√®me
Cr√©ation de sous-admin

4.7.5 Composants R√©utilisables

<StatCard> : Carte de statistique avec ic√¥ne et √©volution
<LineChart> : Graphique en ligne r√©utilisable
<DonutChart> : Graphique en donut
<BarChart> : Graphique en barres
<ActivityFeed> : Flux d'activit√© en temps r√©el
<AlertPanel> : Panneau d'alertes
<ReportGenerator> : G√©n√©rateur de rapports
<LogViewer> : Visualiseur de logs
<DateRangePicker> : S√©lecteur de plage de dates


4.8 Module "Param√®tres & Administration"
4.8.1 Param√®tres G√©n√©raux
A) Informations du Centre

Nom du centre (modifiable)
Adresse compl√®te
Num√©ro de t√©l√©phone
Email de contact
Horaires d'ouverture (par jour de la semaine)
Jours de fermeture
Description du centre (pour la page √Ä Propos)
Logo du centre (upload local)

B) Param√®tres de R√©servation

Nombre maximum de r√©servations par jour
Nombre maximum de r√©servations par cr√©neau
D√©lai minimum de r√©servation (en jours)
D√©lai maximum de r√©servation (en jours)
Dur√©e par d√©faut d'une r√©servation (en heures)
Activation/d√©sactivation des r√©servations
Message personnalis√© si r√©servations ferm√©es

C) Param√®tres de Notification

Activation/d√©sactivation des notifications email
Templates d'emails personnalisables :

Confirmation de r√©servation
Validation de r√©servation
Refus de r√©servation
Rappel J-1
Inscription √† un groupe
Newsletter


Activation/d√©sactivation des notifications push (FCM)
Configuration des rappels automatiques

D) Param√®tres d'Affichage

Nombre d'√©l√©ments par page (livres, r√©servations, etc.)
Tri par d√©faut du catalogue
Affichage par d√©faut (grille/liste)
Activation/d√©sactivation du carrousel d'accueil
Vitesse de d√©filement du carrousel

4.8.2 Gestion des Administrateurs
A) Liste des Administrateurs

Tableau de tous les comptes admins
Informations affich√©es :

Nom complet
Email
R√¥le (super_admin / admin)
Date de cr√©ation
Derni√®re connexion
Statut (actif/inactif)


Actions :

Modifier les informations
Modifier les privil√®ges
D√©sactiver/R√©activer
Supprimer (sauf super_admin)



B) Cr√©ation de Sous-Admin

Formulaire avec :

Nom complet
Email
Num√©ro de t√©l√©phone (optionnel)
S√©lection du profil de privil√®ges (voir section 3.2.2)
Photo de profil (optionnel)


Envoi automatique d'invitation par email
Lien temporaire pour d√©finir le mot de passe (valide 48h)

C) Modification des Privil√®ges

Interface visuelle avec checkboxes par module
Pr√©visualisation des actions autoris√©es
Enregistrement avec confirmation
Log de toutes les modifications

D) Historique des Actions Admin

Consultation de l'activit√© de chaque admin
Statistiques :

Nombre de connexions
Actions effectu√©es (par module)
Derni√®res actions


Graphiques d'activit√©

4.8.3 Param√®tres Syst√®me
A) Base de Donn√©es

Affichage de la taille de la base SQLite
Optimisation/Vacuum de la base
Sauvegarde manuelle (download du fichier .db)
Restauration depuis un backup
Configuration des sauvegardes automatiques :

Fr√©quence (quotidienne/hebdomadaire)
Nombre de backups √† conserver
Stockage local des backups



B) Cache et Performance

Vider le cache applicatif
R√©initialiser le Service Worker
Affichage de l'espace de stockage utilis√©
Configuration du cache (dur√©e de vie)

C) S√©curit√©

Configuration de la dur√©e de session
Activation/d√©sactivation du rate limiting
Configuration du nombre de tentatives de connexion autoris√©es
Liste des IPs bloqu√©es (anti-spam)
Configuration de la complexit√© des mots de passe

D) Maintenance

Mode maintenance ON/OFF
Message personnalis√© en mode maintenance
Planification de maintenance (date/heure)
Liste blanche d'IPs autoris√©es en mode maintenance

4.8.4 Internationalisation (i18n)
Langues Disponibles :

üá´üá∑ Fran√ßais (par d√©faut)
üá¨üáß Anglais

Fonctionnalit√©s :

S√©lecteur de langue dans le header (visiteurs)
S√©lecteur de langue dans le menu admin
Persistance du choix de langue (localStorage)
D√©tection automatique de la langue du navigateur
Traduction de tous les √©l√©ments de l'interface :

Labels, boutons, messages
Emails automatiques
Notifications
Messages d'erreur


Gestion des formats :

Dates (DD/MM/YYYY pour FR, MM/DD/YYYY pour EN)
Heures (24h pour FR, 12h AM/PM pour EN)
Nombres (virgule vs point)



4.8.5 Accessibilit√©
A) Mode Sombre/Clair

Toggle dans le header (ic√¥ne soleil/lune)
D√©tection du th√®me syst√®me par d√©faut
Transition douce entre les modes
Persistance du choix utilisateur
Contraste respectant les normes WCAG 2.1 AA

B) Options d'Accessibilit√©

Taille de police ajustable (petit/normal/grand)
Espacement des lignes augment√© (optionnel)
Mode haut contraste (pour malvoyants)
D√©sactivation des animations (pour sensibilit√© au mouvement)
Navigation au clavier optimis√©e (focus visible)
Labels ARIA sur tous les √©l√©ments interactifs

C) Responsive Design

Adaptation fluide sur tous les √©crans :

Desktop (> 1024px)
Tablette (768px - 1023px)
Mobile (< 767px)


Menu hamburger sur mobile
Grilles adaptatives (CSS Grid + Flexbox)
Images responsives avec srcset
Touch-friendly (boutons min 44x44px)

4.8.6 Composants R√©utilisables

<SettingsPanel> : Panneau de param√®tres modulaire
<SettingsCard> : Carte de param√®tre individuel
<AdminList> : Liste des administrateurs
<AdminForm> : Formulaire de cr√©ation/modification admin
<PrivilegeEditor> : √âditeur visuel de privil√®ges
<LanguageSelector> : S√©lecteur de langue
<ThemeToggle> : Bouton de changement de th√®me
<BackupManager> : Gestionnaire de sauvegardes
<MaintenanceMode> : Interface de mode maintenance


üóÑÔ∏è 5. ARCHITECTURE TECHNIQUE D√âTAILL√âE
5.1 Frontend ‚Äî Technologies et Structure
5.1.1 Stack Technique
Framework et Outils Principaux :
TechnologieVersionUtilisationReact.js18.3+Biblioth√®que UI principaleVite5.0+Build tool ultra-rapideTailwindCSS3.4+Framework CSS utility-firstReact Router DOM6.20+Routing et navigationFramer Motion11.0+Animations fluidesReact Query5.0+Gestion d'√©tat et cachei18next23.0+InternationalisationDay.js1.11+Manipulation de datesRecharts2.10+Graphiques et visualisationsLucide React0.263+Biblioth√®que d'ic√¥nes
Biblioth√®ques Compl√©mentaires :

react-hook-form : Gestion des formulaires avec validation
zod : Validation de sch√©mas TypeScript-first
react-hot-toast : Notifications toast √©l√©gantes
sql.js : SQLite compil√© en WebAssembly pour le navigateur
dompurify : Sanitisation HTML (s√©curit√© XSS)
html2pdf.js : G√©n√©ration de PDF c√¥t√© client
papaparse : Parsing de fichiers CSV
chart.js : Graphiques compl√©mentaires si besoin

5.1.2 Structure des Dossiers
protege-lecture-plus/
‚îÇ
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ books/              # Couvertures de livres
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ authors/            # Photos d'auteurs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ groups/             # Images de groupes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ events/             # Images d'√©v√©nements
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logo/               # Logos de l'ONG
‚îÇ   ‚îú‚îÄ‚îÄ fonts/                  # Polices personnalis√©es
‚îÇ   ‚îú‚îÄ‚îÄ manifest.json           # Manifest PWA
‚îÇ   ‚îú‚îÄ‚îÄ robots.txt
‚îÇ   ‚îî‚îÄ‚îÄ favicon.ico
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ icons/              # Ic√¥nes SVG personnalis√©es
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ illustrations/      # Illustrations √©ducatives
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common/             # Composants r√©utilisables g√©n√©riques
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Card.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Modal.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Badge.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Input.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Select.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Textarea.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DatePicker.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ImageUploader.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Loader.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Pagination.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SearchBar.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LanguageSelector.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThemeToggle.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ConfirmDialog.jsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/             # Composants de mise en page
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Footer.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Sidebar.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminLayout.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PublicLayout.jsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ books/              # Composants li√©s aux livres
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BookCard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BookGrid.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BookFilters.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BookDetails.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BookForm.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthorSelect.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CategoryTree.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AvailabilityBadge.jsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ reservations/       # Composants de r√©servation
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ReservationForm.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ReservationList.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ReservationCard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ReservationDetails.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ReservationCalendar.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ReservationActions.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ReservationStats.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ StatusBadge.jsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ groups/             # Composants de groupes
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GroupCard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GroupGrid.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GroupDetails.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GroupForm.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MemberList.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ActivityCalendar.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ JoinGroupForm.jsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ events/             # Composants d'√©v√©nements
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EventCard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EventGrid.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EventForm.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EventDetails.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ HomeCarousel.jsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ news/               # Composants d'actualit√©s
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NewsCard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NewsGrid.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NewsForm.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ NewsDetails.jsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ contact/            # Composants de contact
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ContactForm.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MessageList.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MessageCard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MessageDetails.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NewsletterSignup.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SubscriberList.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EmailEditor.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CampaignStats.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SimpleCaptcha.jsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin/              # Composants admin
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StatCard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LineChart.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DonutChart.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BarChart.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ActivityFeed.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AlertPanel.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ReportGenerator.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LogViewer.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminList.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminForm.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PrivilegeEditor.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BackupManager.jsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth/               # Composants d'authentification
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ LoginForm.jsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ PasswordReset.jsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ PrivateRoute.jsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ RoleGuard.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ contexts/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthContext.jsx     # Context d'authentification
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ThemeContext.jsx    # Context de th√®me (clair/sombre)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LanguageContext.jsx # Context de langue
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DatabaseContext.jsx # Context SQLite
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAuth.js          # Hook d'authentification
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useDatabase.js      # Hook SQLite
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useBooks.js         # Hook gestion des livres
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useReservations.js  # Hook gestion des r√©servations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useGroups.js        # Hook gestion des groupes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useEvents.js        # Hook gestion des √©v√©nements
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useNews.js          # Hook gestion des actualit√©s
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useContact.js       # Hook gestion des messages
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useNewsletter.js    # Hook gestion newsletter
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useStats.js         # Hook statistiques
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useTheme.js         # Hook de th√®me
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useTranslation.js   # Hook de traduction
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Home.jsx            # Page d'accueil
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Books.jsx           # Catalogue de livres
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BookDetails.jsx     # D√©tails d'un livre
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Groups.jsx          # Groupes de lecture
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GroupDetails.jsx    # D√©tails d'un groupe
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Events.jsx          # Liste des √©v√©nements
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EventDetails.jsx    # D√©tails d'un √©v√©nement
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ News.jsx            # Actualit√©s
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NewsDetails.jsx     # D√©tails d'une actualit√©
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ About.jsx           # √Ä propos de l'ONG
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Contact.jsx         # Page de contact
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login.jsx           # Connexion admin
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin/              # Pages administrateur
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Dashboard.jsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ BooksManagement.jsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ReservationsManagement.jsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ GroupsManagement.jsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ EventsManagement.jsx
‚îÇ   ‚îÇ       ‚îúRetryMYContinue‚îÇ       ‚îú‚îÄ‚îÄ NewsManagement.jsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ContactManagement.jsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ NewsletterManagement.jsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ StatisticsReports.jsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ AdminManagement.jsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ Settings.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.js         # Service SQLite
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ firebase.js         # Configuration Firebase
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.js             # Service d'authentification
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notifications.js    # Service FCM
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ email.js            # Service d'envoi d'emails
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ export.js           # Service d'export (CSV/PDF)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ storage.js          # Service de stockage local d'images
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validators.js       # Fonctions de validation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ formatters.js       # Formatage de donn√©es
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ constants.js        # Constantes globales
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ helpers.js          # Fonctions utilitaires
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dateUtils.js        # Utilitaires de dates
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ locales/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fr/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ translation.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ en/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ translation.json
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ global.css          # Styles globaux
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tailwind.css        # Configuration Tailwind
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ animations.css      # Animations personnalis√©es
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ App.jsx                 # Composant racine
‚îÇ   ‚îú‚îÄ‚îÄ main.jsx                # Point d'entr√©e
‚îÇ   ‚îî‚îÄ‚îÄ sw.js                   # Service Worker PWA
‚îÇ
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ init-admin.js           # Script de cr√©ation admin principal
‚îÇ   ‚îú‚îÄ‚îÄ init-db.js              # Script d'initialisation SQLite
‚îÇ   ‚îî‚îÄ‚îÄ seed-data.js            # Script de donn√©es exemple
‚îÇ
‚îú‚îÄ‚îÄ .env.example                # Variables d'environnement exemple
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ vite.config.js
‚îú‚îÄ‚îÄ tailwind.config.js
‚îú‚îÄ‚îÄ postcss.config.js
‚îî‚îÄ‚îÄ README.md

#### 5.1.3 Strat√©gie de Composants R√©utilisables

**Principes de Conception :**

1. **Atomic Design Pattern**
   - **Atoms** : Composants de base (Button, Input, Badge, Icon)
   - **Molecules** : Combinaisons simples (SearchBar, FormField, Card)
   - **Organisms** : Sections complexes (Header, BookGrid, ReservationList)
   - **Templates** : Layouts de pages (AdminLayout, PublicLayout)
   - **Pages** : Instances compl√®tes avec donn√©es

2. **Props Standardis√©es**
   - Toujours inclure `className` pour extension Tailwind
   - Props `variant` pour variantes visuelles (primary, secondary, danger, etc.)
   - Props `size` pour dimensionnement (sm, md, lg, xl)
   - Props `disabled` et `loading` pour √©tats
   - Props `children` pour contenu personnalisable

3. **Composition over Inheritance**
   - Privil√©gier la composition de composants
   - √âviter l'h√©ritage profond
   - Utiliser les render props et children functions

4. **Performance**
   - M√©morisation avec `React.memo()` pour composants lourds
   - `useMemo()` et `useCallback()` pour optimisations
   - Lazy loading des pages avec `React.lazy()`
   - Code splitting par route

**Exemple de Composant R√©utilisable :**
```jsx
// components/common/Button.jsx
import { forwardRef } from 'react';
import { Loader2 } from 'lucide-react';

const Button = forwardRef(({ 
  children, 
  variant = 'primary', 
  size = 'md', 
  loading = false,
  disabled = false,
  className = '',
  icon: Icon,
  ...props 
}, ref) => {
  const baseStyles = 'inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2';
  
  const variants = {
    primary: 'bg-green-500 hover:bg-green-600 text-white focus:ring-green-500',
    secondary: 'bg-gray-200 hover:bg-gray-300 text-gray-800 focus:ring-gray-500',
    danger: 'bg-red-500 hover:bg-red-600 text-white focus:ring-red-500',
    outline: 'border-2 border-green-500 text-green-500 hover:bg-green-50 focus:ring-green-500',
  };
  
  const sizes = {
    sm: 'px-3 py-1.5 text-sm',
    md: 'px-4 py-2 text-base',
    lg: 'px-6 py-3 text-lg',
    xl: 'px-8 py-4 text-xl',
  };
  
  return (
    <button
      ref={ref}
      disabled={disabled || loading}
      className={`${baseStyles} ${variants[variant]} ${sizes[size]} ${className} ${(disabled || loading) && 'opacity-50 cursor-not-allowed'}`}
      {...props}
    >
      {loading ? (
        <Loader2 className="w-5 h-5 mr-2 animate-spin" />
      ) : Icon ? (
        <Icon className="w-5 h-5 mr-2" />
      ) : null}
      {children}
    </button>
  );
});

Button.displayName = 'Button';

export default Button;

5.2 Base de Donn√©es ‚Äî SQLite
5.2.1 Choix de SQLite
Avantages :

‚úÖ Base de donn√©es locale, pas de serveur requis
‚úÖ L√©g√®re et performante (< 1 MB)
‚úÖ Support complet de SQL standard
‚úÖ Transactions ACID compl√®tes
‚úÖ Pas de co√ªt cloud pour le stockage
‚úÖ Backup simple (copie du fichier .db)
‚úÖ Compatible avec sql.js (WebAssembly dans le navigateur)

Impl√©mentation :

Utilisation de sql.js pour l'ex√©cution SQLite dans le navigateur
Persistance via IndexedDB pour stockage permanent
Synchronisation p√©riodique avec le fichier syst√®me (Node.js pour admin)

5.2.2 Sch√©ma Complet de la Base de Donn√©es
Script de Cr√©ation (init-db.sql) :
sql-- =====================================================
-- TABLES PRINCIPALES
-- =====================================================

-- Table des administrateurs
CREATE TABLE administrateurs (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  firebase_uid TEXT UNIQUE NOT NULL,
  email TEXT UNIQUE NOT NULL,
  nom_complet TEXT NOT NULL,
  role TEXT NOT NULL DEFAULT 'admin',
  privileges TEXT, -- JSON des privil√®ges d√©taill√©s
  photo_profil TEXT,
  telephone TEXT,
  date_creation DATETIME DEFAULT CURRENT_TIMESTAMP,
  date_derniere_connexion DATETIME,
  statut TEXT DEFAULT 'actif',
  cree_par INTEGER REFERENCES administrateurs(id),
  CONSTRAINT check_role CHECK (role IN ('super_admin', 'admin')),
  CONSTRAINT check_statut CHECK (statut IN ('actif', 'inactif'))
);

-- Table des auteurs
CREATE TABLE auteurs (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  nom_complet TEXT NOT NULL,
  biographie TEXT,
  nationalite TEXT,
  photo TEXT,
  date_naissance DATE,
  site_web TEXT,
  nombre_livres INTEGER DEFAULT 0,
  date_ajout DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- Table des cat√©gories
CREATE TABLE categories (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  nom TEXT UNIQUE NOT NULL,
  description TEXT,
  couleur_hex TEXT DEFAULT '#A5D6A7',
  icone TEXT,
  parent_id INTEGER REFERENCES categories(id),
  nombre_livres INTEGER DEFAULT 0,
  ordre_affichage INTEGER DEFAULT 0
);

-- Table des livres
CREATE TABLE livres (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  isbn TEXT,
  titre TEXT NOT NULL,
  auteur_id INTEGER NOT NULL REFERENCES auteurs(id) ON DELETE RESTRICT,
  resume TEXT NOT NULL,
  categorie_id INTEGER NOT NULL REFERENCES categories(id) ON DELETE RESTRICT,
  annee_publication INTEGER NOT NULL,
  editeur TEXT,
  langue TEXT NOT NULL DEFAULT 'FR',
  nombre_pages INTEGER,
  nombre_exemplaires INTEGER NOT NULL DEFAULT 1,
  exemplaires_disponibles INTEGER NOT NULL DEFAULT 1,
  statut TEXT DEFAULT 'disponible',
  image_couverture TEXT,
  tags TEXT, -- S√©par√©s par virgules
  cote TEXT,
  date_ajout DATETIME DEFAULT CURRENT_TIMESTAMP,
  date_modification DATETIME DEFAULT CURRENT_TIMESTAMP,
  ajoute_par INTEGER NOT NULL REFERENCES administrateurs(id),
  CONSTRAINT check_statut CHECK (statut IN ('disponible', 'reserve_complet', 'maintenance')),
  CONSTRAINT check_langue CHECK (langue IN ('FR', 'EN', 'ES', 'DE', 'AUTRE'))
);

-- Table des r√©servations
CREATE TABLE reservations (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  numero_reservation TEXT UNIQUE NOT NULL,
  livre_id INTEGER NOT NULL REFERENCES livres(id) ON DELETE CASCADE,
  nom_visiteur TEXT NOT NULL,
  email_visiteur TEXT NOT NULL,
  telephone_visiteur TEXT NOT NULL,
  date_souhaitee DATE NOT NULL,
  creneau TEXT NOT NULL,
  commentaire TEXT,
  statut TEXT DEFAULT 'en_attente',
  date_creation DATETIME DEFAULT CURRENT_TIMESTAMP,
  date_validation DATETIME,
  date_visite DATETIME,
  valide_par INTEGER REFERENCES administrateurs(id),
  remarque_admin TEXT,
  notification_envoyee BOOLEAN DEFAULT 0,
  CONSTRAINT check_statut CHECK (statut IN ('en_attente', 'validee', 'refusee', 'terminee', 'annulee')),
  CONSTRAINT check_creneau CHECK (creneau IN ('matin', 'apres_midi'))
);

-- Table des groupes de lecture
CREATE TABLE groupes_lecture (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  nom TEXT NOT NULL,
  description TEXT NOT NULL,
  theme TEXT NOT NULL,
  image_couverture TEXT,
  statut TEXT DEFAULT 'actif',
  date_creation DATETIME DEFAULT CURRENT_TIMESTAMP,
  cree_par INTEGER NOT NULL REFERENCES administrateurs(id),
  nombre_membres INTEGER DEFAULT 0,
  prochaine_rencontre DATETIME,
  lieu_rencontre TEXT,
  livre_du_mois INTEGER REFERENCES livres(id),
  CONSTRAINT check_statut CHECK (statut IN ('actif', 'inactif', 'archive'))
);

-- Table des membres des groupes
CREATE TABLE membres_groupes (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  groupe_id INTEGER NOT NULL REFERENCES groupes_lecture(id) ON DELETE CASCADE,
  nom_complet TEXT NOT NULL,
  email TEXT NOT NULL,
  telephone TEXT,
  date_inscription DATETIME DEFAULT CURRENT_TIMESTAMP,
  statut TEXT DEFAULT 'actif',
  CONSTRAINT check_statut CHECK (statut IN ('actif', 'inactif')),
  UNIQUE(groupe_id, email)
);

-- Table des activit√©s des groupes
CREATE TABLE activites_groupes (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  groupe_id INTEGER NOT NULL REFERENCES groupes_lecture(id) ON DELETE CASCADE,
  titre TEXT NOT NULL,
  description TEXT,
  type TEXT NOT NULL,
  date_activite DATETIME NOT NULL,
  lieu TEXT,
  livre_associe INTEGER REFERENCES livres(id),
  cree_par INTEGER NOT NULL REFERENCES administrateurs(id),
  date_creation DATETIME DEFAULT CURRENT_TIMESTAMP,
  CONSTRAINT check_type CHECK (type IN ('rencontre', 'debat', 'conference', 'atelier', 'autre'))
);

-- Table des √©v√©nements
CREATE TABLE evenements (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  titre TEXT NOT NULL,
  description TEXT NOT NULL,
  type TEXT NOT NULL,
  date_debut DATETIME NOT NULL,
  date_fin DATETIME,
  lieu TEXT,
  image_principale TEXT,
  lien_externe TEXT,
  groupe_lie INTEGER REFERENCES groupes_lecture(id),
  livre_lie INTEGER REFERENCES livres(id),
  statut TEXT DEFAULT 'brouillon',
  publie_le DATETIME,
  cree_par INTEGER NOT NULL REFERENCES administrateurs(id),
  date_creation DATETIME DEFAULT CURRENT_TIMESTAMP,
  nombre_vues INTEGER DEFAULT 0,
  CONSTRAINT check_type CHECK (type IN ('atelier', 'conference', 'club_lecture', 'exposition', 'formation', 'autre')),
  CONSTRAINT check_statut CHECK (statut IN ('brouillon', 'publie', 'archive'))
);

-- Table des actualit√©s
CREATE TABLE actualites (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  titre TEXT NOT NULL,
  contenu TEXT NOT NULL,
  resume TEXT,
  image_principale TEXT,
  categorie TEXT,
  tags TEXT,
  statut TEXT DEFAULT 'brouillon',
  publie_le DATETIME,
  cree_par INTEGER NOT NULL REFERENCES administrateurs(id),
  date_creation DATETIME DEFAULT CURRENT_TIMESTAMP,
  date_modification DATETIME,
  nombre_vues INTEGER DEFAULT 0,
  CONSTRAINT check_statut CHECK (statut IN ('brouillon', 'publie', 'archive'))
);

-- Table des messages de contact
CREATE TABLE messages_contact (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  nom_complet TEXT NOT NULL,
  email TEXT NOT NULL,
  telephone TEXT,
  sujet TEXT NOT NULL,
  message TEXT NOT NULL,
  date_envoi DATETIME DEFAULT CURRENT_TIMESTAMP,
  statut TEXT DEFAULT 'non_lu',
  lu_par INTEGER REFERENCES administrateurs(id),
  date_lecture DATETIME,
  reponse TEXT,
  date_reponse DATETIME,
  repondu_par INTEGER REFERENCES administrateurs(id),
  CONSTRAINT check_statut CHECK (statut IN ('non_lu', 'lu', 'repondu', 'archive'))
);

-- Table des abonn√©s newsletter
CREATE TABLE newsletter_abonnes (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  email TEXT UNIQUE NOT NULL,
  nom_complet TEXT,
  date_inscription DATETIME DEFAULT CURRENT_TIMESTAMP,
  statut TEXT DEFAULT 'actif',
  token_desinscription TEXT UNIQUE NOT NULL,
  source TEXT DEFAULT 'site_web',
  CONSTRAINT check_statut CHECK (statut IN ('actif', 'desabonne', 'bounce'))
);

-- Table des envois de newsletter
CREATE TABLE newsletter_envois (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  objet TEXT NOT NULL,
  contenu TEXT NOT NULL,
  date_envoi DATETIME DEFAULT CURRENT_TIMESTAMP,
  envoye_par INTEGER NOT NULL REFERENCES administrateurs(id),
  nombre_destinataires INTEGER,
  nombre_ouverts INTEGER DEFAULT 0,
  nombre_clics INTEGER DEFAULT 0,
  statut TEXT DEFAULT 'brouillon',
  CONSTRAINT check_statut CHECK (statut IN ('brouillon', 'envoye', 'annule'))
);

-- Table des statistiques journali√®res
CREATE TABLE statistiques_journalieres (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  date DATE UNIQUE NOT NULL,
  visites_totales INTEGER DEFAULT 0,
  visiteurs_uniques INTEGER DEFAULT 0,
  reservations_soumises INTEGER DEFAULT 0,
  reservations_validees INTEGER DEFAULT 0,
  livres_consultes INTEGER DEFAULT 0,
  nouvelles_inscriptions_newsletter INTEGER DEFAULT 0,
  nouveaux_membres_groupes INTEGER DEFAULT 0,
  messages_recus INTEGER DEFAULT 0,
  date_calcul DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- Table des logs d'activit√©
CREATE TABLE logs_activite (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  utilisateur_id INTEGER REFERENCES administrateurs(id),
  action TEXT NOT NULL,
  module TEXT NOT NULL,
  details TEXT, -- JSON des d√©tails
  ip_address TEXT,
  date_action DATETIME DEFAULT CURRENT_TIMESTAMP,
  CONSTRAINT check_module CHECK (module IN ('livres', 'reservations', 'groupes', 'evenements', 'actualites', 'contact', 'newsletter', 'administration'))
);

-- Table des param√®tres syst√®me
CREATE TABLE parametres_systeme (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  cle TEXT UNIQUE NOT NULL,
  valeur TEXT NOT NULL,
  type TEXT DEFAULT 'string',
  description TEXT,
  date_modification DATETIME DEFAULT CURRENT_TIMESTAMP,
  modifie_par INTEGER REFERENCES administrateurs(id),
  CONSTRAINT check_type CHECK (type IN ('string', 'number', 'boolean', 'json'))
);

-- =====================================================
-- INDEX POUR OPTIMISATION
-- =====================================================

CREATE INDEX idx_livres_auteur ON livres(auteur_id);
CREATE INDEX idx_livres_categorie ON livres(categorie_id);
CREATE INDEX idx_livres_statut ON livres(statut);
CREATE INDEX idx_livres_date_ajout ON livres(date_ajout);

CREATE INDEX idx_reservations_livre ON reservations(livre_id);
CREATE INDEX idx_reservations_statut ON reservations(statut);
CREATE INDEX idx_reservations_date_souhaitee ON reservations(date_souhaitee);
CREATE INDEX idx_reservations_email ON reservations(email_visiteur);

CREATE INDEX idx_membres_groupe ON membres_groupes(groupe_id);
CREATE INDEX idx_membres_email ON membres_groupes(email);

CREATE INDEX idx_activites_groupe ON activites_groupes(groupe_id);
CREATE INDEX idx_activites_date ON activites_groupes(date_activite);

CREATE INDEX idx_evenements_statut ON evenements(statut);
CREATE INDEX idx_evenements_date_debut ON evenements(date_debut);

CREATE INDEX idx_actualites_statut ON actualites(statut);
CREATE INDEX idx_actualites_date_creation ON actualites(date_creation);

CREATE INDEX idx_messages_statut ON messages_contact(statut);
CREATE INDEX idx_messages_date ON messages_contact(date_envoi);

CREATE INDEX idx_newsletter_statut ON newsletter_abonnes(statut);

CREATE INDEX idx_logs_utilisateur ON logs_activite(utilisateur_id);
CREATE INDEX idx_logs_module ON logs_activite(module);
CREATE INDEX idx_logs_date ON logs_activite(date_action);

-- =====================================================
-- TRIGGERS POUR COH√âRENCE DES DONN√âES
-- =====================================================

-- Mise √† jour automatique du nombre de livres par auteur
CREATE TRIGGER update_auteur_count_insert
AFTER INSERT ON livres
BEGIN
  UPDATE auteurs SET nombre_livres = nombre_livres + 1 WHERE id = NEW.auteur_id;
END;

CREATE TRIGGER update_auteur_count_delete
AFTER DELETE ON livres
BEGIN
  UPDATE auteurs SET nombre_livres = nombre_livres - 1 WHERE id = OLD.auteur_id;
END;

-- Mise √† jour automatique du nombre de livres par cat√©gorie
CREATE TRIGGER update_categorie_count_insert
AFTER INSERT ON livres
BEGIN
  UPDATE categories SET nombre_livres = nombre_livres + 1 WHERE id = NEW.categorie_id;
END;

CREATE TRIGGER update_categorie_count_delete
AFTER DELETE ON livres
BEGIN
  UPDATE categories SET nombre_livres = nombre_livres - 1 WHERE id = OLD.categorie_id;
END;

-- Mise √† jour automatique de la date de modification des livres
CREATE TRIGGER update_livre_modification
AFTER UPDATE ON livres
BEGIN
  UPDATE livres SET date_modification = CURRENT_TIMESTAMP WHERE id = NEW.id;
END;

-- Mise √† jour automatique du nombre de membres par groupe
CREATE TRIGGER update_groupe_membres_insert
AFTER INSERT ON membres_groupes
BEGIN
  UPDATE groupes_lecture SET nombre_membres = nombre_membres + 1 WHERE id = NEW.groupe_id;
END;

CREATE TRIGGER update_groupe_membres_delete
AFTER DELETE ON membres_groupes
BEGIN
  UPDATE groupes_lecture SET nombre_membres = nombre_membres - 1 WHERE id = OLD.groupe_id;
END;

-- =====================================================
-- INSERTION DES DONN√âES INITIALES
-- =====================================================

-- Param√®tres syst√®me par d√©faut
INSERT INTO parametres_systeme (cle, valeur, type, description) VALUES
('nom_centre', 'Centre de Lecture Prot√©g√© QV', 'string', 'Nom du centre de lecture'),
('adresse', 'Rond-Point Express, Yaound√©, Cameroun', 'string', 'Adresse compl√®te'),
('telephone', '+237 6XX XX XX XX', 'string', 'Num√©ro de t√©l√©phone'),
('email_contact', 'contact@protegeqv.org', 'string', 'Email de contact'),
('max_reservations_jour', '20', 'number', 'Nombre maximum de r√©servations par jour'),
('max_reservations_creneau', '10', 'number', 'Nombre maximum de r√©servations par cr√©neau'),
('delai_min_reservation', '1', 'number', 'D√©lai minimum de r√©servation en jours'),
('delai_max_reservation', '30', 'number', 'D√©lai maximum de r√©servation en jours'),
('duree_session_minutes', '30', 'number', 'Dur√©e de session avant d√©connexion automatique'),
('mode_maintenance', 'false', 'boolean', 'Activer/d√©sactiver le mode maintenance'),
('notifications_email_actives', 'true', 'boolean', 'Activer/d√©sactiver les notifications email'),
('notifications_push_actives', 'true', 'boolean', 'Activer/d√©sactiver les notifications push'),
('langue_defaut', 'fr', 'string', 'Langue par d√©faut de l application'),
('theme_defaut', 'light', 'string', 'Th√®me par d√©faut (light/dark)');

-- Cat√©gories de livres par d√©faut
INSERT INTO categories (nom, description, couleur_hex, ordre_affichage) VALUES
('Romans', 'Romans et ≈ìuvres de fiction litt√©raire', '#A5D6A7', 1),
('√âducation', 'Livres √©ducatifs et manuels scolaires', '#81C784', 2),
('Sciences', 'Ouvrages scientifiques et techniques', '#66BB6A', 3),
('Histoire', 'Livres d histoire et biographies', '#4CAF50', 4),
('Jeunesse', 'Livres pour enfants et adolescents', '#43A047', 5),
('D√©veloppement Personnel', 'Livres de croissance personnelle et bien-√™tre', '#388E3C', 6),
('Culture', 'Arts, culture et soci√©t√©', '#2E7D32', 7),
('Religion & Philosophie', 'Ouvrages religieux et philosophiques', '#1B5E20', 8);
5.2.3 Service de Gestion SQLite
Fichier : src/services/database.js
javascriptimport initSqlJs from 'sql.js';

class DatabaseService {
  constructor() {
    this.db = null;
    this.isInitialized = false;
  }

  async initialize() {
    if (this.isInitialized) return;

    try {
      const SQL = await initSqlJs({
        locateFile: file => `https://sql.js.org/dist/${file}`
      });

      // Charger la base depuis IndexedDB si elle existe
      const savedDb = await this.loadFromIndexedDB();
      
      if (savedDb) {
        this.db = new SQL.Database(new Uint8Array(savedDb));
      } else {
        this.db = new SQL.Database();
        await this.createSchema();
      }

      this.isInitialized = true;
      console.log('‚úÖ Base de donn√©es SQLite initialis√©e');
    } catch (error) {
      console.error('‚ùå Erreur d\'initialisation de la base:', error);
      throw error;
    }
  }

  async createSchema() {
    // Ex√©cuter le script SQL complet de cr√©ation
    const schemaSQL = await fetch('/schema.sql').then(r => r.text());
    this.db.exec(schemaSQL);
  }

  query(sql, params = []) {
    if (!this.isInitialized) {
      throw new Error('Base de donn√©es non initialis√©e');
    }

    try {
      const results = this.db.exec(sql, params);
      return this.formatResults(results);
    } catch (error) {
      console.error('Erreur SQL:', sql, params, error);
      throw error;
    }
  }

  queryOne(sql, params = []) {
    const results = this.query(sql, params);
    return results.length > 0 ? results[0] : null;
  }

  run(sql, params = []) {
    if (!this.isInitialized) {
      throw new Error('Base de donn√©es non initialis√©e');
    }

    try {
      this.db.run(sql, params);
      // Sauvegarder apr√®s chaque modification
      this.saveToIndexedDB();
      return { success: true };
    } catch (error) {
      console.error('Erreur SQL:', sql, params, error);
      throw error;
    }
  }

  formatResults(results) {
    if (results.length === 0) return [];

    const { columns, values } = results[0];
    return values.map(row => {
      const obj = {};
      columns.forEach((col, index) => {
        obj[col] = row[index];
      });
      return obj;
    });
  }

  async saveToIndexedDB() {
    const data = this.db.export();
    const buffer = data.buffer;

    return new Promise((resolve, reject) => {
      const request = indexedDB.open('ProtegeDB', 1);

      request.onerror = () => reject(request.error);
      request.onsuccess = () => {
        const db = request.result;
        const transaction = db.transaction(['database'], 'readwrite');
        const store = transaction.objectStore('database');
        store.put(buffer, 'protege-lecture');
        transaction.oncomplete = () => resolve();
        transaction.onerror = () => reject(transaction.error);
      };

      request.onupgradeneeded = (event) => {
        const db = event.target.result;
        if (!db.objectStoreNames.contains('database')) {
          db.createObjectStore('database');
        }
      };
    });
  }

  async loadFromIndexedDB() {
    return new Promise((resolve, reject) => {
      const request = indexedDB.open('ProtegeDB', 1);

      request.onerror = () => reject(request.error);
      request.onsuccess = () => {
        const db = request.result;
        const transaction = db.transaction(['database'], 'readonly');
        const store = transaction.objectStore('database');
        const getRequest = store.get('protege-lecture');

        getRequest.onsuccess = () => resolve(getRequest.result);
        getRequest.onerror = () => reject(getRequest.error);
      };

      request.onupgradeneeded = (event) => {
        const db = event.target.result;
        if (!db.objectStoreNames.contains('database')) {
          db.createObjectStore('database');
        }
      };
    });
  }

  async backup() {
    const data = this.db.export();
    const blob = new Blob([data], { type: 'application/x-sqlite3' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `protege-backup-${new Date().toISOString()}.db`;
    a.click();
    URL.revokeObjectURL(url);
  }

  async restore(file) {
    const arrayBuffer = await file.arrayBuffer();
    const SQL = await initSqlJs({
      locateFile: file => `https://sql.js.org/dist/${file}`
    });
    this.db = new SQL.Database(new Uint8Array(arrayBuffer));
    await this.saveToIndexedDB();
  }
}

export default new DatabaseService();

5.3 Services Cloud ‚Äî Firebase
5.3.1 Configuration Firebase
Services Utilis√©s (UNIQUEMENT) :
ServiceUtilisationJustificationAuthenticationConnexion administrateurs (Email/Password + Google OAuth)Gestion s√©curis√©e des identit√©sCloud Messaging (FCM)Notifications push pour admins et visiteurs (PWA)Alertes temps r√©elAnalyticsSuivi d'utilisation anonymis√©Am√©lioration continueCrashlyticsD√©tection et logging des erreursStabilit√©Remote ConfigParam√®tres dynamiques sans red√©ploiementFlexibilit√©Performance MonitoringMesure des performances applicativesOptimisation
Services NON Utilis√©s :

‚ùå Cloud Storage : Remplac√© par stockage local des images
‚ùå Firestore : Remplac√© par SQLite
‚ùå Realtime Database : Remplac√© par SQLite
‚ùå Hosting : D√©ploiement sur infrastructure propre

Fichier : src/services/firebase.js
javascriptimport { initializeApp } from 'firebase/app';
import { getAuth, GoogleAuthProvider } from 'firebase/auth';
import { getMessaging } from 'firebase/messaging';
import { getAnalytics } from 'firebase/analytics';
import { getPerformance } from 'firebase/performance';
import { getRemoteConfig } from 'firebase/remote-config';

const firebaseConfig = {
  apiKey: import.meta.env.VITE_FIREBASE_API_KEY,
  authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,
  projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,
  messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,
  appId: import.meta.env.VITE_FIREBASE_APP_ID,
  measurementId: import.meta.env.VITE_FIREBASE_MEASUREMENT_ID
};

// Initialisation Firebase
const app = initializeApp(firebaseConfig);

// Services
export const auth = getAuth(app);
export const googleProvider = new GoogleAuthProvider();
export const messaging = getMessaging(app);
export const analytics = getAnalytics(app);
export const performance = getPerformance(app);
export const remoteConfig = getRemoteConfig(app);

// Configuration Remote Config
remoteConfig.settings = {
  minimumFetchIntervalMillis: 3600000, // 1 heure
  fetchTimeoutMillis: 60000
};

remoteConfig.defaultConfig = {
  maintenance_mode: false,
  max_reservations_per_day: 20,RetryMYContinuefeature_notifications_enabled: true,
feature_groups_enabled: true,
feature_newsletter_enabled: true
};
export default app;

#### 5.3.2 Service d'Authentification

**Fichier : `src/services/auth.js`**
```javascript
import { 
  signInWithEmailAndPassword, 
  signOut, 
  sendPasswordResetEmail,
  signInWithPopup,
  onAuthStateChanged
} from 'firebase/auth';
import { auth, googleProvider } from './firebase';
import databaseService from './database';

class AuthService {
  constructor() {
    this.currentUser = null;
    this.currentAdmin = null;
  }

  // Initialiser l'√©couteur d'√©tat d'authentification
  initAuthListener(callback) {
    return onAuthStateChanged(auth, async (user) => {
      if (user) {
        this.currentUser = user;
        // R√©cup√©rer les infos admin depuis SQLite
        this.currentAdmin = await this.getAdminData(user.uid);
        callback(this.currentAdmin);
      } else {
        this.currentUser = null;
        this.currentAdmin = null;
        callback(null);
      }
    });
  }

  // Connexion par email/mot de passe
  async loginWithEmail(email, password) {
    try {
      const userCredential = await signInWithEmailAndPassword(auth, email, password);
      const user = userCredential.user;
      
      // V√©rifier que l'utilisateur est bien admin
      const adminData = await this.getAdminData(user.uid);
      
      if (!adminData) {
        await this.logout();
        throw new Error('Compte administrateur introuvable');
      }

      if (adminData.statut !== 'actif') {
        await this.logout();
        throw new Error('Compte d√©sactiv√©. Contactez le super administrateur.');
      }

      // Enregistrer la connexion
      await this.logConnection(adminData.id);

      return adminData;
    } catch (error) {
      console.error('Erreur de connexion:', error);
      throw this.handleAuthError(error);
    }
  }

  // Connexion avec Google OAuth
  async loginWithGoogle() {
    try {
      const result = await signInWithPopup(auth, googleProvider);
      const user = result.user;

      // V√©rifier que l'utilisateur est bien admin
      const adminData = await this.getAdminData(user.uid);
      
      if (!adminData) {
        await this.logout();
        throw new Error('Compte administrateur introuvable');
      }

      if (adminData.statut !== 'actif') {
        await this.logout();
        throw new Error('Compte d√©sactiv√©');
      }

      await this.logConnection(adminData.id);

      return adminData;
    } catch (error) {
      console.error('Erreur de connexion Google:', error);
      throw this.handleAuthError(error);
    }
  }

  // D√©connexion
  async logout() {
    try {
      await signOut(auth);
      this.currentUser = null;
      this.currentAdmin = null;
    } catch (error) {
      console.error('Erreur de d√©connexion:', error);
      throw error;
    }
  }

  // R√©initialisation du mot de passe
  async resetPassword(email) {
    try {
      await sendPasswordResetEmail(auth, email);
    } catch (error) {
      console.error('Erreur de r√©initialisation:', error);
      throw this.handleAuthError(error);
    }
  }

  // R√©cup√©rer les donn√©es admin depuis SQLite
  async getAdminData(firebaseUid) {
    const result = databaseService.queryOne(
      'SELECT * FROM administrateurs WHERE firebase_uid = ? AND statut = ?',
      [firebaseUid, 'actif']
    );

    if (result && result.privileges) {
      result.privileges = JSON.parse(result.privileges);
    }

    return result;
  }

  // Enregistrer la connexion dans les logs
  async logConnection(adminId) {
    databaseService.run(
      'UPDATE administrateurs SET date_derniere_connexion = ? WHERE id = ?',
      [new Date().toISOString(), adminId]
    );

    databaseService.run(
      `INSERT INTO logs_activite (utilisateur_id, action, module, details) 
       VALUES (?, ?, ?, ?)`,
      [adminId, 'connexion', 'administration', JSON.stringify({ timestamp: new Date().toISOString() })]
    );
  }

  // V√©rifier les privil√®ges
  hasPrivilege(module, action) {
    if (!this.currentAdmin) return false;
    if (this.currentAdmin.role === 'super_admin') return true;

    const privileges = this.currentAdmin.privileges || {};
    return privileges[module]?.[action] === true;
  }

  // Gestion des erreurs Firebase
  handleAuthError(error) {
    const errorMessages = {
      'auth/invalid-email': 'Adresse email invalide',
      'auth/user-disabled': 'Ce compte a √©t√© d√©sactiv√©',
      'auth/user-not-found': 'Aucun compte associ√© √† cet email',
      'auth/wrong-password': 'Mot de passe incorrect',
      'auth/email-already-in-use': 'Cet email est d√©j√† utilis√©',
      'auth/weak-password': 'Le mot de passe doit contenir au moins 6 caract√®res',
      'auth/network-request-failed': 'Erreur de connexion r√©seau',
      'auth/too-many-requests': 'Trop de tentatives. R√©essayez plus tard.',
    };

    return new Error(errorMessages[error.code] || error.message);
  }
}

export default new AuthService();
5.3.3 Service de Notifications (FCM)
Fichier : src/services/notifications.js
javascriptimport { getToken, onMessage } from 'firebase/messaging';
import { messaging } from './firebase';

class NotificationService {
  constructor() {
    this.token = null;
  }

  // Demander l'autorisation et obtenir le token
  async requestPermission() {
    try {
      const permission = await Notification.requestPermission();
      
      if (permission === 'granted') {
        console.log('‚úÖ Permission de notification accord√©e');
        await this.getToken();
      } else {
        console.log('‚ö†Ô∏è Permission de notification refus√©e');
      }
    } catch (error) {
      console.error('Erreur de demande de permission:', error);
    }
  }

  // Obtenir le token FCM
  async getToken() {
    try {
      const token = await getToken(messaging, {
        vapidKey: import.meta.env.VITE_FIREBASE_VAPID_KEY
      });

      if (token) {
        this.token = token;
        console.log('Token FCM obtenu:', token);
        // Sauvegarder le token pour l'admin connect√©
        await this.saveTokenForAdmin(token);
      }
    } catch (error) {
      console.error('Erreur d\'obtention du token FCM:', error);
    }
  }

  // √âcouter les messages en premier plan
  listenForMessages(callback) {
    onMessage(messaging, (payload) => {
      console.log('Message re√ßu en premier plan:', payload);
      
      // Afficher une notification personnalis√©e
      if (callback) {
        callback(payload);
      } else {
        this.showNotification(payload.notification);
      }
    });
  }

  // Afficher une notification locale
  showNotification(notification) {
    if ('Notification' in window && Notification.permission === 'granted') {
      new Notification(notification.title, {
        body: notification.body,
        icon: '/logo-192.png',
        badge: '/logo-96.png',
        tag: 'protege-notification',
        requireInteraction: true
      });
    }
  }

  // Sauvegarder le token pour l'admin
  async saveTokenForAdmin(token) {
    // Logique pour associer le token √† l'admin connect√©
    // Pourrait √™tre stock√© dans SQLite ou envoy√© √† un backend
    localStorage.setItem('fcm_token', token);
  }
}

export default new NotificationService();
5.3.4 Service Worker pour PWA
Fichier : public/sw.js
javascriptconst CACHE_NAME = 'protege-lecture-v1';
const STATIC_CACHE = [
  '/',
  '/index.html',
  '/manifest.json',
  '/logo-192.png',
  '/logo-512.png'
];

// Installation du Service Worker
self.addEventListener('install', (event) => {
  console.log('Service Worker: Installation');
  event.waitUntil(
    caches.open(CACHE_NAME).then((cache) => {
      console.log('Service Worker: Cache des fichiers statiques');
      return cache.addAll(STATIC_CACHE);
    })
  );
});

// Activation du Service Worker
self.addEventListener('activate', (event) => {
  console.log('Service Worker: Activation');
  event.waitUntil(
    caches.keys().then((cacheNames) => {
      return Promise.all(
        cacheNames.map((cache) => {
          if (cache !== CACHE_NAME) {
            console.log('Service Worker: Suppression ancien cache');
            return caches.delete(cache);
          }
        })
      );
    })
  );
});

// Interception des requ√™tes (strat√©gie Cache First)
self.addEventListener('fetch', (event) => {
  event.respondWith(
    caches.match(event.request).then((response) => {
      return response || fetch(event.request).then((fetchResponse) => {
        return caches.open(CACHE_NAME).then((cache) => {
          // Mettre en cache les nouvelles ressources
          cache.put(event.request, fetchResponse.clone());
          return fetchResponse;
        });
      });
    }).catch(() => {
      // Page hors ligne de secours
      return caches.match('/offline.html');
    })
  );
});

// √âcouter les messages push (FCM)
self.addEventListener('push', (event) => {
  const data = event.data ? event.data.json() : {};
  
  const options = {
    body: data.body || 'Nouvelle notification',
    icon: '/logo-192.png',
    badge: '/logo-96.png',
    vibrate: [200, 100, 200],
    data: data.data || {},
    actions: [
      { action: 'view', title: 'Voir' },
      { action: 'close', title: 'Fermer' }
    ]
  };

  event.waitUntil(
    self.registration.showNotification(data.title || 'Prot√©g√© Lecture+', options)
  );
});

// G√©rer les clics sur les notifications
self.addEventListener('notificationclick', (event) => {
  event.notification.close();

  if (event.action === 'view') {
    event.waitUntil(
      clients.openWindow(event.notification.data.url || '/')
    );
  }
});

5.4 Stockage Local des Images
5.4.1 Architecture de Stockage
Remplacement de Firebase Cloud Storage :
Les images sont stock√©es localement dans le dossier public/images/ avec une organisation structur√©e :
public/images/
‚îú‚îÄ‚îÄ books/              # Couvertures de livres
‚îÇ   ‚îú‚îÄ‚îÄ {livre_id}.jpg
‚îÇ   ‚îî‚îÄ‚îÄ {livre_id}.webp
‚îú‚îÄ‚îÄ authors/            # Photos d'auteurs
‚îÇ   ‚îî‚îÄ‚îÄ {auteur_id}.jpg
‚îú‚îÄ‚îÄ groups/             # Images de groupes de lecture
‚îÇ   ‚îî‚îÄ‚îÄ {groupe_id}.jpg
‚îú‚îÄ‚îÄ events/             # Images d'√©v√©nements
‚îÇ   ‚îî‚îÄ‚îÄ {event_id}.jpg
‚îú‚îÄ‚îÄ news/               # Images d'actualit√©s
‚îÇ   ‚îî‚îÄ‚îÄ {news_id}.jpg
‚îî‚îÄ‚îÄ admins/             # Photos de profil admins
    ‚îî‚îÄ‚îÄ {admin_id}.jpg
5.4.2 Service de Gestion des Images
Fichier : src/services/storage.js
javascriptclass StorageService {
  constructor() {
    this.baseImagePath = '/images';
  }

  // Upload d'une image (convertie en base64 puis sauvegard√©e)
  async uploadImage(file, folder, id) {
    return new Promise((resolve, reject) => {
      const reader = new FileReader();

      reader.onload = async (e) => {
        try {
          const base64 = e.target.result;
          
          // Compression de l'image
          const compressed = await this.compressImage(base64, 800, 0.8);
          
          // G√©n√©ration du nom de fichier
          const extension = file.type.split('/')[1];
          const filename = `${id}.${extension}`;
          const path = `${folder}/${filename}`;

          // Sauvegarde locale via API
          await this.saveImageLocally(path, compressed);

          resolve(path);
        } catch (error) {
          reject(error);
        }
      };

      reader.onerror = (error) => reject(error);
      reader.readAsDataURL(file);
    });
  }

  // Compression d'image
  async compressImage(base64, maxWidth, quality) {
    return new Promise((resolve) => {
      const img = new Image();
      img.src = base64;

      img.onload = () => {
        const canvas = document.createElement('canvas');
        let width = img.width;
        let height = img.height;

        // Redimensionnement proportionnel
        if (width > maxWidth) {
          height = (height * maxWidth) / width;
          width = maxWidth;
        }

        canvas.width = width;
        canvas.height = height;

        const ctx = canvas.getContext('2d');
        ctx.drawImage(img, 0, 0, width, height);

        // Conversion en base64 compress√©
        const compressed = canvas.toDataURL('image/jpeg', quality);
        resolve(compressed);
      };
    });
  }

  // Sauvegarde locale (simulation - en production, utiliser une API backend)
  async saveImageLocally(path, base64) {
    // En environnement de d√©veloppement, stocker dans localStorage
    // En production, envoyer √† un endpoint backend pour sauvegarde sur disque
    
    if (import.meta.env.MODE === 'development') {
      localStorage.setItem(`image_${path}`, base64);
    } else {
      // Appel API backend pour sauvegarde r√©elle
      const response = await fetch('/api/upload-image', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ path, data: base64 })
      });

      if (!response.ok) {
        throw new Error('Erreur de sauvegarde de l\'image');
      }
    }
  }

  // R√©cup√©ration d'une image
  getImageUrl(path) {
    if (!path) return '/images/placeholder.jpg';

    if (import.meta.env.MODE === 'development') {
      return localStorage.getItem(`image_${path}`) || `/images/${path}`;
    }

    return `${this.baseImagePath}/${path}`;
  }

  // Suppression d'une image
  async deleteImage(path) {
    if (import.meta.env.MODE === 'development') {
      localStorage.removeItem(`image_${path}`);
    } else {
      await fetch('/api/delete-image', {
        method: 'DELETE',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ path })
      });
    }
  }

  // Validation de fichier
  validateImageFile(file) {
    const validTypes = ['image/jpeg', 'image/png', 'image/webp'];
    const maxSize = 5 * 1024 * 1024; // 5 MB

    if (!validTypes.includes(file.type)) {
      throw new Error('Format de fichier non support√©. Utilisez JPG, PNG ou WebP.');
    }

    if (file.size > maxSize) {
      throw new Error('Le fichier est trop volumineux (max 5 MB).');
    }

    return true;
  }
}

export default new StorageService();

üé® 6. DESIGN ET EXP√âRIENCE UTILISATEUR
6.1 Charte Graphique
6.1.1 Palette de Couleurs Principale
Th√®me Vert Clair (Light Green) :
CouleurHexUsageVert Principal#A5D6A7Boutons principaux, en-t√™tes, √©l√©ments cl√©sVert Fonc√©#66BB6AHover states, accentsVert Tr√®s Fonc√©#388E3CTextes importants, ic√¥nesBlanc#FFFFFFArri√®re-plans, cartesGris Tr√®s Clair#F5F5F5Arri√®re-plan secondaireGris Clair#E0E0E0Bordures, s√©parateursGris Moyen#9E9E9ETextes secondairesGris Fonc√©#424242Textes principaux
Mode Sombre (Dark Mode) :
CouleurHexUsageFond Principal#121212Arri√®re-plan g√©n√©ralFond Secondaire#1E1E1ECartes, panneauxVert Clair#81C784√âl√©ments interactifsBlanc Cass√©#E0E0E0Textes principauxGris Clair#B0B0B0Textes secondaires
6.1.2 Typographie
Polices Principales :

Titres & En-t√™tes : Inter, system-ui, sans-serif

Font weights : 600 (SemiBold), 700 (Bold)
Tailles : 2xl (32px), xl (24px), lg (20px)


Corps de texte : Inter, system-ui, sans-serif

Font weight : 400 (Regular), 500 (Medium)
Taille : base (16px), sm (14px)


Mono (Code) : 'Fira Code', monospace

6.1.3 Configuration Tailwind
Fichier : tailwind.config.js
javascript/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  darkMode: 'class',
  theme: {
    extend: {
      colors: {
        primary: {
          50: '#E8F5E9',
          100: '#C8E6C9',
          200: '#A5D6A7',
          300: '#81C784',
          400: '#66BB6A',
          500: '#4CAF50',
          600: '#43A047',
          700: '#388E3C',
          800: '#2E7D32',
          900: '#1B5E20',
        },
        dark: {
          bg: '#121212',
          surface: '#1E1E1E',
          elevated: '#2C2C2C',
        }
      },
      fontFamily: {
        sans: ['Inter', 'system-ui', 'sans-serif'],
        mono: ['Fira Code', 'monospace'],
      },
      animation: {
        'fade-in': 'fadeIn 0.3s ease-in',
        'slide-up': 'slideUp 0.4s ease-out',
        'slide-down': 'slideDown 0.4s ease-out',
        'scale-in': 'scaleIn 0.2s ease-out',
      },
      keyframes: {
        fadeIn: {
          '0%': { opacity: '0' },
          '100%': { opacity: '1' },
        },
        slideUp: {
          '0%': { transform: 'translateY(20px)', opacity: '0' },
          '100%': { transform: 'translateY(0)', opacity: '1' },
        },
        slideDown: {
          '0%': { transform: 'translateY(-20px)', opacity: '0' },
          '100%': { transform: 'translateY(0)', opacity: '1' },
        },
        scaleIn: {
          '0%': { transform: 'scale(0.95)', opacity: '0' },
          '100%': { transform: 'scale(1)', opacity: '1' },
        },
      },
    },
  },
  plugins: [
    require('@tailwindcss/forms'),
    require('@tailwindcss/typography'),
  ],
}
6.2 Pages et √âcrans Principaux
6.2.1 Page d'Accueil (Home)
Structure :

Hero Section

Titre accrocheur : "Bienvenue au Centre de Lecture Prot√©g√© QV"
Sous-titre : "La lecture, un pont vers la connaissance et la communaut√©"
Bouton CTA : "Explorer les livres"
Image/Illustration du centre


Carrousel d'√âv√©nements

Slider automatique des 5 derniers √©v√©nements
Navigation manuelle (fl√®ches + dots)
Liens directs vers les d√©tails


Statistiques Cl√©s (Cards)

Nombre de livres disponibles
Membres des groupes de lecture
√âv√©nements √† venir


Section "Livres Populaires"

Grille de 6-8 livres les plus consult√©s
Lien "Voir tout le catalogue"


Section "Groupes de Lecture"

Aper√ßu de 3 groupes actifs
Lien "D√©couvrir tous les groupes"


Section "√Ä Propos"

Description courte de l'ONG
Mission et vision
Lien "En savoir plus"


Newsletter Signup

Widget d'inscription



6.2.2 Page Catalogue de Livres
Layout :

Sidebar gauche : Filtres (cat√©gories, auteurs, disponibilit√©, langue)
Zone principale : Grille de livres avec pagination
Header : Barre de recherche + s√©lecteur de tri + toggle vue (grille/liste)

√âl√©ments d'une Carte Livre :

Image de couverture
Titre (tronqu√© √† 2 lignes)
Auteur
Badge de cat√©gorie
Badge de disponibilit√© (vert = disponible, rouge = r√©serv√©)
Bouton "Voir d√©tails"

6.2.3 Page D√©tails d'un Livre
Layout :

Colonne gauche (40%) : Image de couverture en grand
Colonne droite (60%) :

Titre
Auteur (lien cliquable)
Cat√©gorie, Ann√©e, √âditeur
R√©sum√© complet
Tags
Disponibilit√© (X exemplaires disponibles)
Bouton "R√©server ce livre" (si disponible)



Section "Livres Similaires" (en bas)
6.2.4 Tableau de Bord Administrateur
Layout :

Sidebar gauche : Menu de navigation (modules)
Header : Profil admin, notifications, logout
Zone principale : Contenu dynamique selon le module s√©lectionn√©

Dashboard Principal :

Widgets statistiques (4 cards en haut)
2 graphiques (ligne + donut)
Liste des r√©servations du jour
Flux d'activit√© r√©cente


üîê 7. S√âCURIT√â ET BONNES PRATIQUES
7.1 S√©curit√© Frontend

Validation des Entr√©es

Utiliser zod pour validation de sch√©mas
Sanitisation HTML avec DOMPurify
Validation c√¥t√© client ET serveur (SQLite)


Protection XSS

√âchappement automatique dans React
Sanitisation du contenu riche (√©diteur WYSIWYG)
Content Security Policy (CSP) dans les headers


Protection CSRF

Tokens CSRF pour les actions sensibles
V√©rification de l'origine des requ√™tes


Gestion des Secrets

Variables d'environnement (.env)
Ne jamais commit les cl√©s API
Rotation r√©guli√®re des tokens



7.2 S√©curit√© Base de Donn√©es

Requ√™tes Pr√©par√©es

Toujours utiliser des param√®tres bind√©s
Jamais de concat√©nation de strings SQL


Contr√¥le d'Acc√®s

V√©rification des privil√®ges avant chaque action
Logs de toutes les modifications


Backups Automatiques

Sauvegarde quotidienne de la base SQLite
Rotation des backups (garder 30 derniers)
Test de restauration mensuel



7.3 Performance et Optimisation

Code Splitting

Lazy loading des pages admin
Dynamic imports pour composants lourds


Optimisation Images

Compression automatique
Formats modernes (WebP)
Lazy loading avec Intersection Observer


Caching Intelligent

Service Worker pour cache des assets
React Query pour cache des donn√©es
Strat√©gie Cache-First pour images


Monitoring

Firebase Performance Monitoring
Crashlytics pour les erreurs
Analytics pour l'usage




üì¶ 8. LIVRABLES ET D√âPLOIEMENT
8.1 Livrables

Code Source Complet

Repository Git avec historique propre
README d√©taill√©
Documentation technique


Base de Donn√©es

Fichier SQLite initialis√©
Script de cr√©ation de sch√©ma
Script de donn√©es exemple


Documentation

Manuel administrateur (PDF)
Guide d'installation
Guide de maintenance


Assets

Logo et visuels
Images placeholder
Ic√¥nes personnalis√©es


Configuration

Fichiers .env.example
Configuration Firebase
Configuration Tailwind



8.2 Script d'Initialisation Admin
Fichier : scripts/init-admin.js
javascriptimport databaseService from '../src/services/database.js';
import { createUserWithEmailAndPassword } from 'firebase/auth';
import { auth } from '../src/services/firebase.js';
import readline from 'readline';

const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout
});

async function initSuperAdmin() {
  console.log('\nüîê Initialisation du Super Administrateur\n');

  rl.question('Email: ', async (email) => {
    rl.question('Mot de passe: ', async (password) => {
      rl.question('Nom complet: ', async (nomComplet) => {
        
        try {
          // Cr√©er le compte Firebase
          const userCredential = await createUserWithEmailAndPassword(auth, email, password);
          const firebaseUid = userCredential.user.uid;

          // Ins√©rer dans SQLite
          await databaseService.initialize();
          
          databaseService.run(
            `INSERT INTO administrateurs (firebase_uid, email, nom_complet, role, statut)
             VALUES (?, ?, ?, ?, ?)`,
            [firebaseUid, email, nomComplet, 'super_admin', 'actif']
          );

          console.log('\n‚úÖ Super Admin cr√©√© avec succ√®s!');
          console.log(`üìß Email: ${email}`);
          console.log(`üë§ Nom: ${nomComplet}`);
          console.log(`üîë UID Firebase: ${firebaseUid}\n`);

          process.exit(0);
        } catch (error) {
          console.error('\n‚ùå Erreur:', error.message);
          process.exit(1);
        }
      });
    });
  });
}

initSuperAdmin();
Commande d'ex√©cution :
bashnpm run init:admin
8.3 Instructions de D√©ploiement
1. Installation des D√©pendances
bashnpm install
2. Configuration Firebase

Cr√©er un projet Firebase
Activer Authentication, FCM, Analytics
Copier les credentials dans .env

3. Initialisation de la Base
bashnpm run init:db
npm run init:admin
4. Build de Production
bashnpm run build
5. D√©ploiement

H√©bergement: Netlify, Vercel, ou serveur propre
Configuration du Service Worker
Test PWA avec Lighthouse


üìÖ 9. PLANNING DE D√âVELOPPEMENT
PhaseT√¢ches PrincipalesDur√©eLivrablesPhase 1: Analyse & Design- Validation du cahier des charges<br>- Design UI/UX (Figma)<br>- Wireframes des pages<br>- Charte graphique finale1 semaineMaquettes valid√©es,<br>Charte graphiquePhase 2: Architecture- Setup React + Vite<br>- Configuration Tailwind<br>- Cr√©ation sch√©ma SQLite<br>- Configuration Firebase<br>- Structure composants r√©utilisables1 semaineProjet initialis√©,<br>Base SQLite,<br>Composants de basePhase 3: Modules Core- Module Authentification<br>- Module Livres<br>- Module R√©servations<br>- Stockage local images2 semainesModules fonctionnels,<br>Tests unitairesPhase 4: Modules Compl√©mentaires- Module Groupes<br>- Module √âv√©nements<br>- Module Contact/Newsletter<br>- Module Statistiques1,5 semainesModules termin√©s,<br>Int√©gration compl√®tePhase 5: Administration- Tableau de bord<br>- Gestion privil√®ges<br>- Rapports & exports<br>- Param√®tres syst√®me1 semaineInterface admin compl√®te**PhaseRetryThis response paused because Claude reached its max length for a message. Hit continue to nudge Claude along.ContinueClaude can make mistakes. Please double-check responses. Sonnet 4.5



firebase config (// Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyAKaCsfH8HnRxhBA1D9XZwqFtc4RzS2_-Q",
  authDomain: "protegeqv-2532f.firebaseapp.com",
  projectId: "protegeqv-2532f",
  storageBucket: "protegeqv-2532f.firebasestorage.app",
  messagingSenderId: "553100729963",
  appId: "1:553100729963:web:1f4fba71360fe864be1b2e",
  measurementId: "G-N3NB5PWT1M"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);)


(
Your project
Project name
protegeqv
Project ID 
protegeqv-2532f
Project number 
553100729963
Web API Key 
AIzaSyAKaCsfH8HnRxhBA1D9XZwqFtc4RzS2_-Q
Environment
This setting customizes your project for different stages of the app lifecycle
Environment type
Production
Public settings
These settings control instances of your project shown to the public
Public-facing name 
project-553100729963
Support email 
yvangodimomo@gmail.com



Firebase Cloud Messaging API (V1)Enabled
Recommended for most use cases. Learn more

Check the real time performance of the V1 API on the Status Dashboard

Sender ID
Service Account
553100729963	Manage Service Accounts
Cloud Messaging API (Legacy)Disabled
If you are an existing user of the legacy HTTP or XMPP APIs (deprecated on 6/20/2023), you must migrate to the latest Firebase Cloud Messaging API (HTTP v1) by 6/20/2024. Learn more

Web configuration
Web Push certificates
Web Push certificates
Firebase Cloud Messaging can use Application Identity key pairs to connect with external push services. Learn more
Key pair	Date added	Status	Actions
BKcs9NVbQrWwTPnhTCLYX4h8udtR23404Ci58TCcaMsrbpNoQnDosl5DM7_4SPnd-r5zJZVGndRSJeqmnVWocfg	Oct 10, 2025		
)